{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Text, Button, Icon, Divider, Card, Input } from 'react-native-elements';\nimport theme from \"../../theme\";\nimport { collection, getDocs, deleteDoc, doc, query, orderBy, where, serverTimestamp, addDoc } from 'firebase/firestore';\nimport { db, storage } from \"../../utils/firebase\";\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport HeaderBar from \"../../components/common/HeaderBar\";\nimport Sidebar from \"../../components/common/Sidebar\";\nimport { ThemeProvider, useTheme } from \"../../components/common/ThemeProvider\";\nimport { ToastContainer } from \"../../components/common/Toast\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport * as DocumentPicker from 'expo-document-picker';\nimport { createVideoMeta, uploadVideoBunny, getPlaybackUrlBunny } from \"../../utils/bunnyApi\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EpisodeManagementScreen = function EpisodeManagementScreen() {\n  var _appTheme$colors;\n  var route = useRoute();\n  var _ref = route.params || {},\n    seriesId = _ref.seriesId;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    episodes = _useState2[0],\n    setEpisodes = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    seriesData = _useState4[0],\n    setSeriesData = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    refreshing = _useState8[0],\n    setRefreshing = _useState8[1];\n  var _useState9 = useState(''),\n    _useState0 = _slicedToArray(_useState9, 2),\n    searchQuery = _useState0[0],\n    setSearchQuery = _useState0[1];\n  var _useState1 = useState([]),\n    _useState10 = _slicedToArray(_useState1, 2),\n    filteredEpisodes = _useState10[0],\n    setFilteredEpisodes = _useState10[1];\n  var _useState11 = useState('episodeAsc'),\n    _useState12 = _slicedToArray(_useState11, 2),\n    sortBy = _useState12[0],\n    setSortBy = _useState12[1];\n  var _useState13 = useState('content'),\n    _useState14 = _slicedToArray(_useState13, 2),\n    activeSection = _useState14[0],\n    setActiveSection = _useState14[1];\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    selectedCard = _useState16[0],\n    setSelectedCard = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    showAddForm = _useState18[0],\n    setShowAddForm = _useState18[1];\n  var _useState19 = useState(''),\n    _useState20 = _slicedToArray(_useState19, 2),\n    formTitle = _useState20[0],\n    setFormTitle = _useState20[1];\n  var _useState21 = useState(''),\n    _useState22 = _slicedToArray(_useState21, 2),\n    formDescription = _useState22[0],\n    setFormDescription = _useState22[1];\n  var _useState23 = useState('1'),\n    _useState24 = _slicedToArray(_useState23, 2),\n    formEpisodeNumber = _useState24[0],\n    setFormEpisodeNumber = _useState24[1];\n  var _useState25 = useState(''),\n    _useState26 = _slicedToArray(_useState25, 2),\n    formDuration = _useState26[0],\n    setFormDuration = _useState26[1];\n  var _useState27 = useState(null),\n    _useState28 = _slicedToArray(_useState27, 2),\n    formThumbnail = _useState28[0],\n    setFormThumbnail = _useState28[1];\n  var _useState29 = useState(''),\n    _useState30 = _slicedToArray(_useState29, 2),\n    formVideoUrl = _useState30[0],\n    setFormVideoUrl = _useState30[1];\n  var _useState31 = useState(null),\n    _useState32 = _slicedToArray(_useState31, 2),\n    formVideoId = _useState32[0],\n    setFormVideoId = _useState32[1];\n  var _useState33 = useState(false),\n    _useState34 = _slicedToArray(_useState33, 2),\n    videoUploading = _useState34[0],\n    setVideoUploading = _useState34[1];\n  var _useState35 = useState(false),\n    _useState36 = _slicedToArray(_useState35, 2),\n    formSubmitting = _useState36[0],\n    setFormSubmitting = _useState36[1];\n  var navigation = useNavigation();\n  var _ref2 = useTheme ? useTheme() : {\n      theme: theme\n    },\n    appTheme = _ref2.theme;\n  var screenWidth = Dimensions.get('window').width;\n  var isMobile = screenWidth < 768;\n  useEffect(function () {\n    if (seriesId) {\n      fetchSeriesData();\n    }\n    fetchEpisodes();\n  }, [seriesId]);\n  var fetchSeriesData = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        var seriesDoc = yield doc(db, 'series', seriesId);\n        var seriesSnapshot = yield getDocs(collection(db, 'series'));\n        var seriesDataArray = seriesSnapshot.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n        var series = seriesDataArray.find(function (s) {\n          return s.id === seriesId;\n        });\n        if (series) {\n          setSeriesData(series);\n        } else {\n          Alert.alert('Error', 'Series not found');\n          navigation.goBack();\n        }\n      } catch (error) {\n        console.error('Error fetching series data:', error);\n        Alert.alert('Error', 'Failed to load series data');\n      }\n    });\n    return function fetchSeriesData() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var fetchEpisodes = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      setLoading(true);\n      try {\n        var snap;\n        if (seriesId) {\n          var q = query(collection(db, 'episodes'), where('seriesId', '==', seriesId));\n          snap = yield getDocs(q);\n        } else {\n          snap = yield getDocs(collection(db, 'episodes'));\n        }\n        var episodesData = snap.docs.map(function (doc) {\n          return _objectSpread({\n            id: doc.id\n          }, doc.data());\n        });\n        setEpisodes(episodesData);\n        setFilteredEpisodes(episodesData);\n      } catch (error) {\n        console.error('Error fetching episodes:', error);\n        Alert.alert('Error', 'Failed to load episodes data');\n      } finally {\n        setLoading(false);\n        setRefreshing(false);\n      }\n    });\n    return function fetchEpisodes() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var onRefresh = function onRefresh() {\n    setRefreshing(true);\n    fetchEpisodes();\n  };\n  useEffect(function () {\n    var results = _toConsumableArray(episodes);\n    if (searchQuery) {\n      results = results.filter(function (item) {\n        var _item$title, _item$description;\n        return ((_item$title = item.title) == null ? void 0 : _item$title.toLowerCase().includes(searchQuery.toLowerCase())) || ((_item$description = item.description) == null ? void 0 : _item$description.toLowerCase().includes(searchQuery.toLowerCase()));\n      });\n    }\n    switch (sortBy) {\n      case 'episodeAsc':\n        results.sort(function (a, b) {\n          return (a.episodeNumber || 0) - (b.episodeNumber || 0);\n        });\n        break;\n      case 'episodeDesc':\n        results.sort(function (a, b) {\n          return (b.episodeNumber || 0) - (a.episodeNumber || 0);\n        });\n        break;\n      case 'titleAsc':\n        results.sort(function (a, b) {\n          return (a.title || '').localeCompare(b.title || '');\n        });\n        break;\n      case 'titleDesc':\n        results.sort(function (a, b) {\n          return (b.title || '').localeCompare(a.title || '');\n        });\n        break;\n      case 'dateAsc':\n        results.sort(function (a, b) {\n          var dateA = a.createdAt ? new Date(a.createdAt.seconds * 1000) : new Date(0);\n          var dateB = b.createdAt ? new Date(b.createdAt.seconds * 1000) : new Date(0);\n          return dateA - dateB;\n        });\n        break;\n      case 'dateDesc':\n        results.sort(function (a, b) {\n          var dateA = a.createdAt ? new Date(a.createdAt.seconds * 1000) : new Date(0);\n          var dateB = b.createdAt ? new Date(b.createdAt.seconds * 1000) : new Date(0);\n          return dateB - dateA;\n        });\n        break;\n      default:\n        break;\n    }\n    setFilteredEpisodes(results);\n  }, [episodes, searchQuery, sortBy]);\n  var handleDeleteEpisode = function () {\n    var _ref5 = _asyncToGenerator(function* (id) {\n      if (window.confirm('Are you sure you want to delete this episode? This action cannot be undone.')) {\n        try {\n          yield deleteDoc(doc(db, 'episodes', id));\n          setEpisodes(function (prevList) {\n            return prevList.filter(function (item) {\n              return item.id !== id;\n            });\n          });\n          Alert.alert('Success', 'Episode deleted successfully');\n        } catch (error) {\n          console.error('Error deleting episode:', error);\n          Alert.alert('Error', 'Failed to delete episode');\n        }\n      }\n    });\n    return function handleDeleteEpisode(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleCardPress = function handleCardPress(id) {\n    setSelectedCard(selectedCard === id ? null : id);\n  };\n  var pickImage = function () {\n    var _ref6 = _asyncToGenerator(function* (setter) {\n      var _yield$ImagePicker$re = yield ImagePicker.requestMediaLibraryPermissionsAsync(),\n        status = _yield$ImagePicker$re.status;\n      if (status !== 'granted') {\n        Alert.alert('Permission required', 'Camera roll permission is required to select images.');\n        return;\n      }\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        quality: 0.8\n      });\n      if (!result.canceled) {\n        setter(result.assets[0].uri);\n      }\n    });\n    return function pickImage(_x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var uploadImage = function () {\n    var _ref7 = _asyncToGenerator(function* (uri, path) {\n      if (!uri) return null;\n      try {\n        var response = yield fetch(uri);\n        var blob = yield response.blob();\n        var fileName = `${path}_${Date.now()}`;\n        var storageRef = ref(storage, `${path}/${fileName}`);\n        yield uploadBytes(storageRef, blob);\n        return yield getDownloadURL(storageRef);\n      } catch (error) {\n        console.error('Error uploading image:', error);\n        throw error;\n      }\n    });\n    return function uploadImage(_x3, _x4) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var resetForm = function resetForm() {\n    setFormTitle('');\n    setFormDescription('');\n    setFormEpisodeNumber(String(episodes.length + 1));\n    setFormDuration('');\n    setFormThumbnail(null);\n    setFormVideoUrl('');\n    setFormVideoId(null);\n  };\n  var handleSubmit = function () {\n    var _ref8 = _asyncToGenerator(function* () {\n      if (!formTitle.trim()) {\n        Alert.alert('Validation Error', 'Please enter a title for the episode');\n        return;\n      }\n      setFormSubmitting(true);\n      try {\n        var thumbnailUrl = yield uploadImage(formThumbnail, 'episode_thumbnails');\n        var episodeData = {\n          seriesId: seriesId,\n          title: formTitle.trim(),\n          description: formDescription.trim(),\n          episodeNumber: Number(formEpisodeNumber),\n          duration: formDuration.trim(),\n          videoUrl: formVideoUrl.trim(),\n          thumbnailUrl: thumbnailUrl,\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp()\n        };\n        yield addDoc(collection(db, 'episodes'), episodeData);\n        Alert.alert('Success', 'Episode created successfully');\n        resetForm();\n        setShowAddForm(false);\n        fetchEpisodes();\n      } catch (error) {\n        console.error('Error creating episode:', error);\n        Alert.alert('Error', 'Failed to create episode. Please try again.');\n      } finally {\n        setFormSubmitting(false);\n      }\n    });\n    return function handleSubmit() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var handleVideoSelect = function () {\n    var _ref9 = _asyncToGenerator(function* () {\n      try {\n        setVideoUploading(true);\n        var res = yield DocumentPicker.getDocumentAsync({\n          type: 'video/*'\n        });\n        if (res.type === 'success') {\n          var meta = yield createVideoMeta({\n            Title: formTitle || 'Untitled',\n            Description: formDescription || ''\n          });\n          var Id = meta.Id,\n            UploadUrl = meta.UploadUrl;\n          yield uploadVideoBunny(UploadUrl, res.uri);\n          var playbackUrl = yield getPlaybackUrlBunny(Id);\n          setFormVideoUrl(playbackUrl);\n          setFormVideoId(Id);\n        }\n      } catch (error) {\n        console.error('Error uploading video:', error);\n        Alert.alert('Error', error.message || 'Failed to upload video');\n      } finally {\n        setVideoUploading(false);\n      }\n    });\n    return function handleVideoSelect() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  var renderEpisodeCard = function renderEpisodeCard(_ref0) {\n    var item = _ref0.item;\n    var isSelected = selectedCard === item.id;\n    return _jsxs(Card, {\n      containerStyle: styles.episodeCard,\n      children: [_jsxs(View, {\n        style: styles.cardHeader,\n        children: [_jsxs(View, {\n          style: styles.cardTitleRow,\n          children: [_jsx(View, {\n            style: styles.episodeNumberBadge,\n            children: _jsx(Text, {\n              style: styles.episodeNumberText,\n              children: item.episodeNumber || '?'\n            })\n          }), _jsx(Text, {\n            style: styles.cardTitle,\n            numberOfLines: 1,\n            children: item.title || 'Untitled Episode'\n          })]\n        }), _jsxs(View, {\n          style: styles.cardActionButtons,\n          children: [_jsx(TouchableOpacity, {\n            style: [styles.iconButton, styles.editButton],\n            onPress: function onPress() {\n              return navigation.navigate('EpisodeEdit', {\n                id: item.id\n              });\n            },\n            children: _jsx(Icon, {\n              name: \"edit\",\n              type: \"feather\",\n              color: \"#fff\",\n              size: 16\n            })\n          }), _jsx(TouchableOpacity, {\n            style: [styles.iconButton, styles.deleteButton],\n            onPress: function onPress() {\n              return handleDeleteEpisode(item.id);\n            },\n            children: _jsx(Icon, {\n              name: \"trash-2\",\n              type: \"feather\",\n              color: \"#fff\",\n              size: 16\n            })\n          })]\n        })]\n      }), _jsxs(TouchableOpacity, {\n        style: styles.cardContent,\n        onPress: function onPress() {\n          return handleCardPress(item.id);\n        },\n        activeOpacity: 0.9,\n        children: [_jsx(Image, {\n          source: {\n            uri: item.thumbnailUrl || 'https://via.placeholder.com/300x200?text=No+Thumbnail'\n          },\n          style: styles.thumbnail,\n          resizeMode: \"cover\"\n        }), _jsxs(View, {\n          style: styles.cardDetails,\n          children: [_jsx(Text, {\n            style: styles.cardDescription,\n            numberOfLines: isSelected ? undefined : 2,\n            children: item.description || 'No description available'\n          }), _jsxs(View, {\n            style: styles.metadataContainer,\n            children: [item.duration && _jsxs(View, {\n              style: styles.metadataTag,\n              children: [_jsx(Icon, {\n                name: \"clock\",\n                type: \"feather\",\n                size: 12,\n                color: theme.colors.primary,\n                style: styles.metadataIcon\n              }), _jsx(Text, {\n                style: styles.metadataText,\n                children: item.duration\n              })]\n            }), item.videoUrl ? _jsxs(View, {\n              style: styles.metadataTag,\n              children: [_jsx(Icon, {\n                name: \"video\",\n                type: \"feather\",\n                size: 12,\n                color: theme.colors.success,\n                style: styles.metadataIcon\n              }), _jsx(Text, {\n                style: styles.metadataText,\n                children: \"Video Available\"\n              })]\n            }) : _jsxs(View, {\n              style: [styles.metadataTag, {\n                backgroundColor: '#ffeeee'\n              }],\n              children: [_jsx(Icon, {\n                name: \"alert-circle\",\n                type: \"feather\",\n                size: 12,\n                color: theme.colors.error,\n                style: styles.metadataIcon\n              }), _jsx(Text, {\n                style: [styles.metadataText, {\n                  color: theme.colors.error\n                }],\n                children: \"No Video\"\n              })]\n            }), item.createdAt && _jsxs(View, {\n              style: styles.metadataTag,\n              children: [_jsx(Icon, {\n                name: \"calendar\",\n                type: \"feather\",\n                size: 12,\n                color: theme.colors.primary,\n                style: styles.metadataIcon\n              }), _jsxs(Text, {\n                style: styles.metadataText,\n                children: [\"Added: \", new Date(item.createdAt.seconds * 1000).toLocaleDateString()]\n              })]\n            })]\n          })]\n        })]\n      }), _jsx(Divider, {\n        style: styles.cardDivider\n      }), _jsxs(View, {\n        style: styles.cardActions,\n        children: [item.videoUrl ? _jsx(Button, {\n          icon: _jsx(Icon, {\n            name: \"play\",\n            type: \"feather\",\n            color: \"#fff\",\n            size: 16,\n            style: {\n              marginRight: 8\n            }\n          }),\n          title: \"Preview\",\n          onPress: function onPress() {\n            return Alert.alert('Video Preview', `Playing: ${item.title}\\nURL: ${item.videoUrl}`);\n          },\n          buttonStyle: styles.previewButton\n        }) : _jsx(Button, {\n          icon: _jsx(Icon, {\n            name: \"video\",\n            type: \"feather\",\n            color: \"#fff\",\n            size: 16,\n            style: {\n              marginRight: 8\n            }\n          }),\n          title: \"Add Video\",\n          onPress: function onPress() {\n            navigation.navigate('EpisodeEdit', {\n              id: item.id,\n              focus: 'video'\n            });\n          },\n          buttonStyle: styles.addVideoButton\n        }), _jsx(Button, {\n          icon: _jsx(Icon, {\n            name: \"edit-2\",\n            type: \"feather\",\n            color: \"#fff\",\n            size: 16,\n            style: {\n              marginRight: 8\n            }\n          }),\n          title: \"Edit Details\",\n          onPress: function onPress() {\n            return navigation.navigate('EpisodeEdit', {\n              id: item.id\n            });\n          },\n          buttonStyle: styles.editDetailsButton\n        })]\n      })]\n    });\n  };\n  var AddEpisodeForm = function AddEpisodeForm() {\n    return _jsxs(Card, {\n      containerStyle: styles.formCard,\n      children: [_jsx(Card.Title, {\n        h4: true,\n        children: \"Add New Episode\"\n      }), _jsx(Card.Divider, {}), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Episode Title *\"\n        }), _jsx(TextInput, {\n          style: styles.input,\n          value: formTitle,\n          onChangeText: setFormTitle,\n          placeholder: \"Enter episode title\"\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Description\"\n        }), _jsx(TextInput, {\n          style: [styles.input, styles.textArea],\n          value: formDescription,\n          onChangeText: setFormDescription,\n          placeholder: \"Enter episode description\",\n          multiline: true,\n          numberOfLines: 4,\n          textAlignVertical: \"top\"\n        })]\n      }), _jsxs(View, {\n        style: styles.row,\n        children: [_jsxs(View, {\n          style: [styles.formGroup, styles.halfWidth],\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Episode Number\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: formEpisodeNumber,\n            onChangeText: setFormEpisodeNumber,\n            placeholder: \"e.g. 1\",\n            keyboardType: \"numeric\"\n          })]\n        }), _jsxs(View, {\n          style: [styles.formGroup, styles.halfWidth],\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Duration\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: formDuration,\n            onChangeText: setFormDuration,\n            placeholder: \"e.g. 45 min\"\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Video URL\"\n        }), _jsx(Button, {\n          title: videoUploading ? 'Uploading...' : formVideoId ? 'Change Video' : 'Select Video',\n          onPress: handleVideoSelect,\n          buttonStyle: styles.uploadButton,\n          containerStyle: styles.buttonContainer,\n          disabled: videoUploading,\n          icon: _jsx(Icon, {\n            name: \"upload\",\n            type: \"feather\",\n            color: \"#fff\",\n            size: 16,\n            style: {\n              marginRight: 8\n            }\n          })\n        }), formVideoUrl ? _jsx(Text, {\n          style: styles.uploadedVideoText,\n          numberOfLines: 1,\n          children: formVideoUrl\n        }) : null]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"Episode Thumbnail\"\n        }), _jsx(Button, {\n          title: formThumbnail ? \"Change Thumbnail\" : \"Select Thumbnail\",\n          onPress: function onPress() {\n            return pickImage(setFormThumbnail);\n          },\n          buttonStyle: styles.imageButton,\n          icon: _jsx(Icon, {\n            name: \"image\",\n            type: \"feather\",\n            color: \"#fff\",\n            size: 16,\n            style: {\n              marginRight: 8\n            }\n          })\n        }), formThumbnail && _jsx(Image, {\n          source: {\n            uri: formThumbnail\n          },\n          style: styles.previewImage\n        })]\n      }), _jsxs(View, {\n        style: styles.formActions,\n        children: [_jsx(Button, {\n          title: \"Cancel\",\n          onPress: function onPress() {\n            setShowAddForm(false);\n            resetForm();\n          },\n          buttonStyle: styles.cancelButton,\n          containerStyle: styles.actionButtonContainer\n        }), _jsx(Button, {\n          title: formSubmitting ? \"Submitting...\" : \"Save Episode\",\n          onPress: handleSubmit,\n          disabled: formSubmitting || !formTitle.trim(),\n          buttonStyle: styles.submitButton,\n          containerStyle: styles.actionButtonContainer,\n          icon: _jsx(Icon, {\n            name: \"check\",\n            type: \"feather\",\n            color: \"#fff\",\n            size: 16,\n            style: {\n              marginRight: 8\n            }\n          })\n        })]\n      })]\n    });\n  };\n  if (seriesId && !seriesData && !loading) {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        children: \"Series not found\"\n      }), _jsx(Button, {\n        title: \"Go Back\",\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        buttonStyle: styles.backButton,\n        containerStyle: {\n          marginTop: 20\n        }\n      })]\n    });\n  }\n  return _jsxs(View, {\n    style: [styles.container, {\n      backgroundColor: (appTheme == null ? void 0 : (_appTheme$colors = appTheme.colors) == null ? void 0 : _appTheme$colors.background) || theme.colors.background\n    }],\n    children: [_jsx(HeaderBar, {}), _jsxs(View, {\n      style: styles.bodyContainer,\n      children: [!isMobile && _jsx(Sidebar, {\n        navigation: navigation,\n        activeSection: activeSection,\n        onSectionChange: setActiveSection\n      }), _jsxs(ScrollView, {\n        style: styles.contentContainer,\n        keyboardShouldPersistTaps: \"handled\",\n        children: [_jsx(View, {\n          style: styles.breadcrumbs,\n          children: _jsxs(TouchableOpacity, {\n            style: styles.breadcrumbItem,\n            onPress: function onPress() {\n              return navigation.goBack();\n            },\n            children: [_jsx(Icon, {\n              name: \"chevron-left\",\n              type: \"feather\",\n              size: 16,\n              color: appTheme.colors.text\n            }), _jsx(Text, {\n              style: styles.breadcrumbText,\n              children: \"Back\"\n            })]\n          })\n        }), seriesData && _jsxs(View, {\n          style: styles.seriesHeader,\n          children: [seriesData.thumbnailUrl && _jsx(Image, {\n            source: {\n              uri: seriesData.thumbnailUrl\n            },\n            style: styles.seriesThumbnail\n          }), _jsxs(View, {\n            style: styles.seriesInfo,\n            children: [_jsx(Text, {\n              h4: true,\n              style: styles.seriesTitle,\n              children: seriesData.title\n            }), _jsx(Text, {\n              style: styles.seriesDescription,\n              numberOfLines: 2,\n              children: seriesData.description\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.header,\n          children: [_jsxs(View, {\n            style: styles.titleSection,\n            children: [_jsx(Text, {\n              h4: true,\n              style: styles.headerTitle,\n              children: \"Episode Management\"\n            }), _jsx(Text, {\n              style: styles.subtitle,\n              children: \"Manage episodes for this series\"\n            })]\n          }), _jsx(Button, {\n            icon: _jsx(Icon, {\n              name: showAddForm ? \"x\" : \"plus\",\n              type: \"feather\",\n              color: \"#fff\",\n              size: 18,\n              style: {\n                marginRight: 10\n              }\n            }),\n            title: showAddForm ? \"Cancel\" : \"Add New Episode\",\n            onPress: function onPress() {\n              return setShowAddForm(!showAddForm);\n            },\n            buttonStyle: [styles.addButton, showAddForm && styles.cancelAddButton],\n            containerStyle: styles.addButtonContainer\n          })]\n        }), showAddForm && _jsx(AddEpisodeForm, {}), _jsxs(View, {\n          style: styles.filtersContainer,\n          children: [_jsxs(View, {\n            style: styles.searchContainer,\n            children: [_jsx(Icon, {\n              name: \"search\",\n              type: \"feather\",\n              color: \"#888\",\n              size: 20,\n              style: styles.searchIcon\n            }), _jsx(TextInput, {\n              style: styles.searchInput,\n              placeholder: \"Search episodes by title or description...\",\n              value: searchQuery,\n              onChangeText: setSearchQuery,\n              placeholderTextColor: \"#888\"\n            }), searchQuery ? _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return setSearchQuery('');\n              },\n              style: styles.clearButton,\n              children: _jsx(Icon, {\n                name: \"x\",\n                type: \"feather\",\n                color: \"#888\",\n                size: 18\n              })\n            }) : null]\n          }), _jsx(View, {\n            style: styles.filterOptions,\n            children: _jsxs(View, {\n              style: styles.filterGroup,\n              children: [_jsx(Text, {\n                style: styles.filterLabel,\n                children: \"Sort by:\"\n              }), _jsxs(TouchableOpacity, {\n                style: styles.sortDropdown,\n                onPress: function onPress() {\n                  var options = [{\n                    label: 'Episode (Ascending)',\n                    value: 'episodeAsc'\n                  }, {\n                    label: 'Episode (Descending)',\n                    value: 'episodeDesc'\n                  }, {\n                    label: 'Title (A-Z)',\n                    value: 'titleAsc'\n                  }, {\n                    label: 'Title (Z-A)',\n                    value: 'titleDesc'\n                  }, {\n                    label: 'Date Added (Newest)',\n                    value: 'dateDesc'\n                  }, {\n                    label: 'Date Added (Oldest)',\n                    value: 'dateAsc'\n                  }];\n                  var currentIndex = options.findIndex(function (o) {\n                    return o.value === sortBy;\n                  });\n                  var nextIndex = (currentIndex + 1) % options.length;\n                  setSortBy(options[nextIndex].value);\n                },\n                children: [_jsx(Text, {\n                  style: styles.sortText,\n                  children: sortBy === 'episodeAsc' ? 'Episode (Ascending)' : sortBy === 'episodeDesc' ? 'Episode (Descending)' : sortBy === 'titleAsc' ? 'Title (A-Z)' : sortBy === 'titleDesc' ? 'Title (Z-A)' : sortBy === 'dateDesc' ? 'Date Added (Newest)' : 'Date Added (Oldest)'\n                }), _jsx(Icon, {\n                  name: \"chevron-down\",\n                  type: \"feather\",\n                  size: 16,\n                  color: \"#555\"\n                })]\n              })]\n            })\n          })]\n        }), loading ? _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: theme.colors.primary,\n          style: styles.loader\n        }) : filteredEpisodes.length === 0 ? _jsxs(View, {\n          style: styles.emptyContainer,\n          children: [_jsx(Icon, {\n            name: \"film\",\n            type: \"feather\",\n            size: 48,\n            color: \"#ccc\"\n          }), _jsx(Text, {\n            style: styles.emptyText,\n            children: \"No episodes found\"\n          }), _jsx(Text, {\n            style: styles.emptySubText,\n            children: searchQuery ? 'Try adjusting your search criteria' : 'Get started by adding your first episode'\n          }), _jsx(Button, {\n            title: \"Add Your First Episode\",\n            onPress: function onPress() {\n              return setShowAddForm(true);\n            },\n            buttonStyle: styles.emptyButton,\n            containerStyle: styles.emptyButtonContainer\n          })]\n        }) : _jsxs(View, {\n          style: styles.episodesList,\n          children: [_jsxs(Text, {\n            style: styles.resultsText,\n            children: [filteredEpisodes.length, \" \", filteredEpisodes.length === 1 ? 'episode' : 'episodes', \" found\"]\n          }), filteredEpisodes.map(function (item) {\n            return _jsx(View, {\n              children: renderEpisodeCard({\n                item: item\n              })\n            }, item.id);\n          })]\n        })]\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    minHeight: '100vh'\n  },\n  bodyContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    minHeight: 'calc(100vh - 64px)'\n  },\n  contentContainer: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: '#f8f9fa'\n  },\n  breadcrumbs: {\n    marginBottom: 16\n  },\n  breadcrumbItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  breadcrumbText: {\n    color: theme.colors.primary,\n    marginLeft: 4,\n    fontSize: 14\n  },\n  seriesHeader: {\n    flexDirection: 'row',\n    backgroundColor: '#fff',\n    padding: 16,\n    borderRadius: 8,\n    marginBottom: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.05,\n    shadowRadius: 4\n  },\n  seriesThumbnail: {\n    width: 80,\n    height: 60,\n    borderRadius: 4,\n    marginRight: 16\n  },\n  seriesInfo: {\n    flex: 1\n  },\n  seriesTitle: {\n    fontSize: 20,\n    marginBottom: 4\n  },\n  seriesDescription: {\n    color: '#666',\n    fontSize: 14\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  titleSection: {\n    flex: 1\n  },\n  headerTitle: {\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontSize: 24\n  },\n  subtitle: {\n    color: '#666',\n    fontSize: 16\n  },\n  addButton: {\n    backgroundColor: theme.colors.success,\n    paddingHorizontal: 20,\n    height: 42,\n    borderRadius: 6\n  },\n  cancelAddButton: {\n    backgroundColor: theme.colors.error\n  },\n  addButtonContainer: {\n    marginLeft: 16\n  },\n  formCard: {\n    padding: 20,\n    marginBottom: 20,\n    borderRadius: 8,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  formGroup: {\n    marginBottom: 16\n  },\n  row: {\n    flexDirection: 'row',\n    marginHorizontal: -8\n  },\n  halfWidth: {\n    width: '50%',\n    paddingHorizontal: 8\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    marginBottom: 6,\n    color: '#444'\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 4,\n    padding: 10,\n    fontSize: 16,\n    backgroundColor: '#fff',\n    color: '#333'\n  },\n  textArea: {\n    minHeight: 100,\n    textAlignVertical: 'top'\n  },\n  imageButton: {\n    backgroundColor: theme.colors.primary,\n    marginBottom: 10\n  },\n  previewImage: {\n    width: '100%',\n    height: 200,\n    borderRadius: 4,\n    marginTop: 10\n  },\n  formActions: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 20\n  },\n  actionButtonContainer: {\n    marginLeft: 10,\n    width: 150\n  },\n  cancelButton: {\n    backgroundColor: '#999'\n  },\n  submitButton: {\n    backgroundColor: theme.colors.success\n  },\n  filtersContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.05,\n    shadowRadius: 4,\n    elevation: 2\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    borderRadius: 6,\n    paddingHorizontal: 12,\n    marginBottom: 16\n  },\n  searchIcon: {\n    marginRight: 8\n  },\n  searchInput: {\n    flex: 1,\n    height: 42,\n    color: '#333',\n    fontSize: 16\n  },\n  clearButton: {\n    padding: 4\n  },\n  filterOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  filterGroup: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 20,\n    marginBottom: 8\n  },\n  filterLabel: {\n    color: '#555',\n    fontWeight: 'bold',\n    marginRight: 12,\n    fontSize: 14\n  },\n  sortDropdown: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#eee',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 6\n  },\n  sortText: {\n    color: '#555',\n    marginRight: 8,\n    fontSize: 14\n  },\n  resultsText: {\n    color: '#666',\n    fontSize: 14,\n    marginBottom: 16\n  },\n  episodesList: {\n    marginBottom: 20\n  },\n  episodeCard: {\n    borderRadius: 8,\n    marginBottom: 16,\n    padding: 0,\n    overflow: 'hidden'\n  },\n  cardHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: '#f8f9fa',\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  cardTitleRow: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  episodeNumberBadge: {\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 12\n  },\n  episodeNumberText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16\n  },\n  cardTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#333',\n    flex: 1\n  },\n  cardActionButtons: {\n    flexDirection: 'row'\n  },\n  iconButton: {\n    width: 30,\n    height: 30,\n    borderRadius: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 8\n  },\n  editButton: {\n    backgroundColor: theme.colors.primary\n  },\n  deleteButton: {\n    backgroundColor: theme.colors.error\n  },\n  cardContent: {\n    flexDirection: 'row',\n    padding: 16\n  },\n  thumbnail: {\n    width: 160,\n    height: 90,\n    borderRadius: 4\n  },\n  cardDetails: {\n    flex: 1,\n    marginLeft: 16\n  },\n  cardDescription: {\n    fontSize: 14,\n    color: '#555',\n    marginBottom: 12,\n    lineHeight: 20\n  },\n  metadataContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  metadataTag: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#f0f0f0',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 4,\n    marginRight: 8,\n    marginBottom: 8\n  },\n  metadataIcon: {\n    marginRight: 4\n  },\n  metadataText: {\n    color: '#555',\n    fontSize: 12\n  },\n  cardDivider: {\n    marginVertical: 0\n  },\n  cardActions: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 16\n  },\n  previewButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    borderRadius: 4\n  },\n  addVideoButton: {\n    backgroundColor: theme.colors.warning,\n    paddingHorizontal: 16,\n    borderRadius: 4\n  },\n  editDetailsButton: {\n    backgroundColor: theme.colors.accent,\n    paddingHorizontal: 16,\n    borderRadius: 4\n  },\n  loader: {\n    marginTop: 40\n  },\n  emptyContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#fff',\n    padding: 40,\n    borderRadius: 8,\n    marginTop: 20\n  },\n  emptyText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#555',\n    marginTop: 16\n  },\n  emptySubText: {\n    fontSize: 14,\n    color: '#888',\n    marginTop: 8,\n    textAlign: 'center',\n    marginBottom: 24\n  },\n  emptyButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 24,\n    height: 48,\n    borderRadius: 6\n  },\n  emptyButtonContainer: {\n    width: 200\n  },\n  backButton: {\n    backgroundColor: theme.colors.primary\n  },\n  uploadButton: {\n    backgroundColor: theme.colors.primary\n  },\n  uploadedVideoText: {\n    color: '#333',\n    fontSize: 14,\n    marginTop: 8\n  },\n  buttonContainer: {\n    marginVertical: 8\n  }\n});\nvar EpisodeManagementScreenWithTheme = function EpisodeManagementScreenWithTheme(props) {\n  return _jsx(ThemeProvider, {\n    children: _jsx(EpisodeManagementScreen, _objectSpread({}, props))\n  });\n};\nexport default EpisodeManagementScreenWithTheme;","map":{"version":3,"names":["React","useEffect","useState","View","StyleSheet","FlatList","TouchableOpacity","Image","ActivityIndicator","Dimensions","TextInput","ScrollView","RefreshControl","Alert","Text","Button","Icon","Divider","Card","Input","theme","collection","getDocs","deleteDoc","doc","query","orderBy","where","serverTimestamp","addDoc","db","storage","useNavigation","useRoute","HeaderBar","Sidebar","ThemeProvider","useTheme","ToastContainer","ImagePicker","ref","uploadBytes","getDownloadURL","DocumentPicker","createVideoMeta","uploadVideoBunny","getPlaybackUrlBunny","jsx","_jsx","jsxs","_jsxs","EpisodeManagementScreen","_appTheme$colors","route","_ref","params","seriesId","_useState","_useState2","_slicedToArray","episodes","setEpisodes","_useState3","_useState4","seriesData","setSeriesData","_useState5","_useState6","loading","setLoading","_useState7","_useState8","refreshing","setRefreshing","_useState9","_useState0","searchQuery","setSearchQuery","_useState1","_useState10","filteredEpisodes","setFilteredEpisodes","_useState11","_useState12","sortBy","setSortBy","_useState13","_useState14","activeSection","setActiveSection","_useState15","_useState16","selectedCard","setSelectedCard","_useState17","_useState18","showAddForm","setShowAddForm","_useState19","_useState20","formTitle","setFormTitle","_useState21","_useState22","formDescription","setFormDescription","_useState23","_useState24","formEpisodeNumber","setFormEpisodeNumber","_useState25","_useState26","formDuration","setFormDuration","_useState27","_useState28","formThumbnail","setFormThumbnail","_useState29","_useState30","formVideoUrl","setFormVideoUrl","_useState31","_useState32","formVideoId","setFormVideoId","_useState33","_useState34","videoUploading","setVideoUploading","_useState35","_useState36","formSubmitting","setFormSubmitting","navigation","_ref2","appTheme","screenWidth","get","width","isMobile","fetchSeriesData","fetchEpisodes","_ref3","_asyncToGenerator","seriesDoc","seriesSnapshot","seriesDataArray","docs","map","_objectSpread","id","data","series","find","s","alert","goBack","error","console","apply","arguments","_ref4","snap","q","episodesData","onRefresh","results","_toConsumableArray","filter","item","_item$title","_item$description","title","toLowerCase","includes","description","sort","a","b","episodeNumber","localeCompare","dateA","createdAt","Date","seconds","dateB","handleDeleteEpisode","_ref5","window","confirm","prevList","_x","handleCardPress","pickImage","_ref6","setter","_yield$ImagePicker$re","requestMediaLibraryPermissionsAsync","status","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","quality","canceled","assets","uri","_x2","uploadImage","_ref7","path","response","fetch","blob","fileName","now","storageRef","_x3","_x4","resetForm","String","length","handleSubmit","_ref8","trim","thumbnailUrl","episodeData","Number","duration","videoUrl","updatedAt","handleVideoSelect","_ref9","res","getDocumentAsync","type","meta","Title","Description","Id","UploadUrl","playbackUrl","message","renderEpisodeCard","_ref0","isSelected","containerStyle","styles","episodeCard","children","style","cardHeader","cardTitleRow","episodeNumberBadge","episodeNumberText","cardTitle","numberOfLines","cardActionButtons","iconButton","editButton","onPress","navigate","name","color","size","deleteButton","cardContent","activeOpacity","source","thumbnail","resizeMode","cardDetails","cardDescription","undefined","metadataContainer","metadataTag","colors","primary","metadataIcon","metadataText","success","backgroundColor","toLocaleDateString","cardDivider","cardActions","icon","marginRight","buttonStyle","previewButton","focus","addVideoButton","editDetailsButton","AddEpisodeForm","formCard","h4","formGroup","label","input","value","onChangeText","placeholder","textArea","multiline","textAlignVertical","row","halfWidth","keyboardType","uploadButton","buttonContainer","disabled","uploadedVideoText","imageButton","previewImage","formActions","cancelButton","actionButtonContainer","submitButton","container","backButton","marginTop","background","bodyContainer","onSectionChange","contentContainer","keyboardShouldPersistTaps","breadcrumbs","breadcrumbItem","text","breadcrumbText","seriesHeader","seriesThumbnail","seriesInfo","seriesTitle","seriesDescription","header","titleSection","headerTitle","subtitle","addButton","cancelAddButton","addButtonContainer","filtersContainer","searchContainer","searchIcon","searchInput","placeholderTextColor","clearButton","filterOptions","filterGroup","filterLabel","sortDropdown","options","currentIndex","findIndex","o","nextIndex","sortText","loader","emptyContainer","emptyText","emptySubText","emptyButton","emptyButtonContainer","episodesList","resultsText","create","flex","minHeight","flexDirection","padding","marginBottom","alignItems","marginLeft","fontSize","borderRadius","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","justifyContent","paddingHorizontal","elevation","marginHorizontal","fontWeight","borderWidth","borderColor","flexWrap","paddingVertical","overflow","borderBottomWidth","borderBottomColor","lineHeight","marginVertical","warning","accent","textAlign","EpisodeManagementScreenWithTheme","props"],"sources":["E:/bigshow/src/screens/admin/EpisodeManagementScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { \r\n  View, \r\n  StyleSheet, \r\n  FlatList, \r\n  TouchableOpacity, \r\n  Image, \r\n  ActivityIndicator,\r\n  Dimensions,\r\n  TextInput,\r\n  ScrollView,\r\n  RefreshControl,\r\n  Alert\r\n} from 'react-native';\r\nimport { Text, Button, Icon, Divider, Card, Input } from 'react-native-elements';\r\nimport theme from '../../theme';\r\nimport { collection, getDocs, deleteDoc, doc, query, orderBy, where, serverTimestamp, addDoc } from 'firebase/firestore';\r\nimport { db, storage } from '../../utils/firebase';\r\nimport { useNavigation, useRoute } from '@react-navigation/native';\r\nimport HeaderBar from '../../components/common/HeaderBar';\r\nimport Sidebar from '../../components/common/Sidebar';\r\nimport { ThemeProvider, useTheme } from '../../components/common/ThemeProvider';\r\nimport { ToastContainer } from '../../components/common/Toast';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport * as DocumentPicker from 'expo-document-picker';\r\nimport { createVideoMeta, uploadVideoBunny, getPlaybackUrlBunny } from '../../utils/bunnyApi';\r\n\r\nconst EpisodeManagementScreen = () => {\r\n  const route = useRoute();\r\n  const { seriesId } = route.params || {};\r\n  \r\n  const [episodes, setEpisodes] = useState([]);\r\n  const [seriesData, setSeriesData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filteredEpisodes, setFilteredEpisodes] = useState([]);\r\n  const [sortBy, setSortBy] = useState('episodeAsc');\r\n  const [activeSection, setActiveSection] = useState('content');\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n\r\n  // Form states\r\n  const [formTitle, setFormTitle] = useState('');\r\n  const [formDescription, setFormDescription] = useState('');\r\n  const [formEpisodeNumber, setFormEpisodeNumber] = useState('1');\r\n  const [formDuration, setFormDuration] = useState('');\r\n  const [formThumbnail, setFormThumbnail] = useState(null);\r\n  const [formVideoUrl, setFormVideoUrl] = useState('');\r\n  const [formVideoId, setFormVideoId] = useState(null);\r\n  const [videoUploading, setVideoUploading] = useState(false);\r\n  const [formSubmitting, setFormSubmitting] = useState(false);\r\n  \r\n  const navigation = useNavigation();\r\n  const { theme: appTheme } = useTheme ? useTheme() : { theme };\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const isMobile = screenWidth < 768;\r\n\r\n  useEffect(() => {\r\n    // Fetch episodes, filtered by seriesId if provided\r\n    if (seriesId) {\r\n      fetchSeriesData();\r\n    }\r\n    fetchEpisodes();\r\n  }, [seriesId]);\r\n\r\n  const fetchSeriesData = async () => {\r\n    try {\r\n      const seriesDoc = await doc(db, 'series', seriesId);\r\n      const seriesSnapshot = await getDocs(collection(db, 'series'));\r\n      const seriesDataArray = seriesSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      const series = seriesDataArray.find(s => s.id === seriesId);\r\n      \r\n      if (series) {\r\n        setSeriesData(series);\r\n      } else {\r\n        Alert.alert('Error', 'Series not found');\r\n        navigation.goBack();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching series data:', error);\r\n      Alert.alert('Error', 'Failed to load series data');\r\n    }\r\n  };\r\n\r\n  const fetchEpisodes = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Fetch all episodes or filter by seriesId\r\n      let snap;\r\n      if (seriesId) {\r\n        const q = query(collection(db, 'episodes'), where('seriesId', '==', seriesId));\r\n        snap = await getDocs(q);\r\n      } else {\r\n        snap = await getDocs(collection(db, 'episodes'));\r\n      }\r\n      const episodesData = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      setEpisodes(episodesData);\r\n      setFilteredEpisodes(episodesData);\r\n    } catch (error) {\r\n      console.error('Error fetching episodes:', error);\r\n      Alert.alert('Error', 'Failed to load episodes data');\r\n    } finally {\r\n      setLoading(false);\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const onRefresh = () => {\r\n    setRefreshing(true);\r\n    fetchEpisodes();\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Apply filters and sorting whenever the data or filter criteria change\r\n    let results = [...episodes];\r\n    \r\n    // Apply search filter\r\n    if (searchQuery) {\r\n      results = results.filter(item => \r\n        item.title?.toLowerCase().includes(searchQuery.toLowerCase()) || \r\n        item.description?.toLowerCase().includes(searchQuery.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Apply sorting\r\n    switch (sortBy) {\r\n      case 'episodeAsc':\r\n        results.sort((a, b) => (a.episodeNumber || 0) - (b.episodeNumber || 0));\r\n        break;\r\n      case 'episodeDesc':\r\n        results.sort((a, b) => (b.episodeNumber || 0) - (a.episodeNumber || 0));\r\n        break;\r\n      case 'titleAsc':\r\n        results.sort((a, b) => (a.title || '').localeCompare(b.title || ''));\r\n        break;\r\n      case 'titleDesc':\r\n        results.sort((a, b) => (b.title || '').localeCompare(a.title || ''));\r\n        break;\r\n      case 'dateAsc':\r\n        results.sort((a, b) => {\r\n          const dateA = a.createdAt ? new Date(a.createdAt.seconds * 1000) : new Date(0);\r\n          const dateB = b.createdAt ? new Date(b.createdAt.seconds * 1000) : new Date(0);\r\n          return dateA - dateB;\r\n        });\r\n        break;\r\n      case 'dateDesc':\r\n        results.sort((a, b) => {\r\n          const dateA = a.createdAt ? new Date(a.createdAt.seconds * 1000) : new Date(0);\r\n          const dateB = b.createdAt ? new Date(b.createdAt.seconds * 1000) : new Date(0);\r\n          return dateB - dateA;\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    \r\n    setFilteredEpisodes(results);\r\n  }, [episodes, searchQuery, sortBy]);\r\n\r\n  const handleDeleteEpisode = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this episode? This action cannot be undone.')) {\r\n      try {\r\n        await deleteDoc(doc(db, 'episodes', id));\r\n        setEpisodes(prevList => prevList.filter(item => item.id !== id));\r\n        Alert.alert('Success', 'Episode deleted successfully');\r\n      } catch (error) {\r\n        console.error('Error deleting episode:', error);\r\n        Alert.alert('Error', 'Failed to delete episode');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCardPress = (id) => {\r\n    setSelectedCard(selectedCard === id ? null : id);\r\n  };\r\n\r\n  const pickImage = async (setter) => {\r\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n    if (status !== 'granted') {\r\n      Alert.alert('Permission required', 'Camera roll permission is required to select images.');\r\n      return;\r\n    }\r\n    const result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      allowsEditing: true,\r\n      quality: 0.8,\r\n    });\r\n    if (!result.canceled) {\r\n      setter(result.assets[0].uri);\r\n    }\r\n  };\r\n\r\n  const uploadImage = async (uri, path) => {\r\n    if (!uri) return null;\r\n    \r\n    try {\r\n      const response = await fetch(uri);\r\n      const blob = await response.blob();\r\n      const fileName = `${path}_${Date.now()}`;\r\n      const storageRef = ref(storage, `${path}/${fileName}`);\r\n      await uploadBytes(storageRef, blob);\r\n      return await getDownloadURL(storageRef);\r\n    } catch (error) {\r\n      console.error('Error uploading image:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormTitle('');\r\n    setFormDescription('');\r\n    setFormEpisodeNumber(String(episodes.length + 1));\r\n    setFormDuration('');\r\n    setFormThumbnail(null);\r\n    setFormVideoUrl('');\r\n    setFormVideoId(null);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!formTitle.trim()) {\r\n      Alert.alert('Validation Error', 'Please enter a title for the episode');\r\n      return;\r\n    }\r\n\r\n    setFormSubmitting(true);\r\n    try {\r\n      // Upload thumbnail if exists\r\n      const thumbnailUrl = await uploadImage(formThumbnail, 'episode_thumbnails');\r\n\r\n      // Create episode document\r\n      const episodeData = {\r\n        seriesId,\r\n        title: formTitle.trim(),\r\n        description: formDescription.trim(),\r\n        episodeNumber: Number(formEpisodeNumber),\r\n        duration: formDuration.trim(),\r\n        videoUrl: formVideoUrl.trim(),\r\n        thumbnailUrl,\r\n        createdAt: serverTimestamp(),\r\n        updatedAt: serverTimestamp()\r\n      };\r\n\r\n      await addDoc(collection(db, 'episodes'), episodeData);\r\n\r\n      Alert.alert('Success', 'Episode created successfully');\r\n      resetForm();\r\n      setShowAddForm(false);\r\n      fetchEpisodes();\r\n    } catch (error) {\r\n      console.error('Error creating episode:', error);\r\n      Alert.alert('Error', 'Failed to create episode. Please try again.');\r\n    } finally {\r\n      setFormSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleVideoSelect = async () => {\r\n    try {\r\n      setVideoUploading(true);\r\n      const res = await DocumentPicker.getDocumentAsync({ type: 'video/*' });\r\n      if (res.type === 'success') {\r\n        const meta = await createVideoMeta({ Title: formTitle || 'Untitled', Description: formDescription || '' });\r\n        const { Id, UploadUrl } = meta;\r\n        await uploadVideoBunny(UploadUrl, res.uri);\r\n        const playbackUrl = await getPlaybackUrlBunny(Id);\r\n        setFormVideoUrl(playbackUrl);\r\n        setFormVideoId(Id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading video:', error);\r\n      Alert.alert('Error', error.message || 'Failed to upload video');\r\n    } finally {\r\n      setVideoUploading(false);\r\n    }\r\n  };\r\n\r\n  const renderEpisodeCard = ({ item }) => {\r\n    const isSelected = selectedCard === item.id;\r\n    \r\n    return (\r\n      <Card containerStyle={styles.episodeCard}>\r\n        <View style={styles.cardHeader}>\r\n          <View style={styles.cardTitleRow}>\r\n            <View style={styles.episodeNumberBadge}>\r\n              <Text style={styles.episodeNumberText}>{item.episodeNumber || '?'}</Text>\r\n            </View>\r\n            <Text style={styles.cardTitle} numberOfLines={1}>{item.title || 'Untitled Episode'}</Text>\r\n          </View>\r\n          <View style={styles.cardActionButtons}>\r\n            <TouchableOpacity \r\n              style={[styles.iconButton, styles.editButton]} \r\n              onPress={() => navigation.navigate('EpisodeEdit', { id: item.id })}\r\n            >\r\n              <Icon name=\"edit\" type=\"feather\" color=\"#fff\" size={16} />\r\n            </TouchableOpacity>\r\n            <TouchableOpacity \r\n              style={[styles.iconButton, styles.deleteButton]} \r\n              onPress={() => handleDeleteEpisode(item.id)}\r\n            >\r\n              <Icon name=\"trash-2\" type=\"feather\" color=\"#fff\" size={16} />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        \r\n        <TouchableOpacity \r\n          style={styles.cardContent}\r\n          onPress={() => handleCardPress(item.id)}\r\n          activeOpacity={0.9}\r\n        >\r\n          <Image \r\n            source={{ uri: item.thumbnailUrl || 'https://via.placeholder.com/300x200?text=No+Thumbnail' }} \r\n            style={styles.thumbnail} \r\n            resizeMode=\"cover\"\r\n          />\r\n          <View style={styles.cardDetails}>\r\n            <Text style={styles.cardDescription} numberOfLines={isSelected ? undefined : 2}>\r\n              {item.description || 'No description available'}\r\n            </Text>\r\n            \r\n            <View style={styles.metadataContainer}>\r\n              {item.duration && (\r\n                <View style={styles.metadataTag}>\r\n                  <Icon name=\"clock\" type=\"feather\" size={12} color={theme.colors.primary} style={styles.metadataIcon} />\r\n                  <Text style={styles.metadataText}>{item.duration}</Text>\r\n                </View>\r\n              )}\r\n              \r\n              {item.videoUrl ? (\r\n                <View style={styles.metadataTag}>\r\n                  <Icon name=\"video\" type=\"feather\" size={12} color={theme.colors.success} style={styles.metadataIcon} />\r\n                  <Text style={styles.metadataText}>Video Available</Text>\r\n                </View>\r\n              ) : (\r\n                <View style={[styles.metadataTag, { backgroundColor: '#ffeeee' }]}>\r\n                  <Icon name=\"alert-circle\" type=\"feather\" size={12} color={theme.colors.error} style={styles.metadataIcon} />\r\n                  <Text style={[styles.metadataText, { color: theme.colors.error }]}>No Video</Text>\r\n                </View>\r\n              )}\r\n              \r\n              {item.createdAt && (\r\n                <View style={styles.metadataTag}>\r\n                  <Icon name=\"calendar\" type=\"feather\" size={12} color={theme.colors.primary} style={styles.metadataIcon} />\r\n                  <Text style={styles.metadataText}>\r\n                    Added: {new Date(item.createdAt.seconds * 1000).toLocaleDateString()}\r\n                  </Text>\r\n                </View>\r\n              )}\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n        \r\n        <Divider style={styles.cardDivider} />\r\n        \r\n        <View style={styles.cardActions}>\r\n          {item.videoUrl ? (\r\n            <Button\r\n              icon={<Icon name=\"play\" type=\"feather\" color=\"#fff\" size={16} style={{marginRight: 8}} />}\r\n              title=\"Preview\"\r\n              onPress={() => Alert.alert('Video Preview', `Playing: ${item.title}\\nURL: ${item.videoUrl}`)}\r\n              buttonStyle={styles.previewButton}\r\n            />\r\n          ) : (\r\n            <Button\r\n              icon={<Icon name=\"video\" type=\"feather\" color=\"#fff\" size={16} style={{marginRight: 8}} />}\r\n              title=\"Add Video\"\r\n              onPress={() => {\r\n                navigation.navigate('EpisodeEdit', { id: item.id, focus: 'video' });\r\n              }}\r\n              buttonStyle={styles.addVideoButton}\r\n            />\r\n          )}\r\n          \r\n          <Button\r\n            icon={<Icon name=\"edit-2\" type=\"feather\" color=\"#fff\" size={16} style={{marginRight: 8}} />}\r\n            title=\"Edit Details\"\r\n            onPress={() => navigation.navigate('EpisodeEdit', { id: item.id })}\r\n            buttonStyle={styles.editDetailsButton}\r\n          />\r\n        </View>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const AddEpisodeForm = () => (\r\n    <Card containerStyle={styles.formCard}>\r\n      <Card.Title h4>Add New Episode</Card.Title>\r\n      <Card.Divider />\r\n      \r\n      <View style={styles.formGroup}>\r\n        <Text style={styles.label}>Episode Title *</Text>\r\n        <TextInput\r\n          style={styles.input}\r\n          value={formTitle}\r\n          onChangeText={setFormTitle}\r\n          placeholder=\"Enter episode title\"\r\n        />\r\n      </View>\r\n      \r\n      <View style={styles.formGroup}>\r\n        <Text style={styles.label}>Description</Text>\r\n        <TextInput\r\n          style={[styles.input, styles.textArea]}\r\n          value={formDescription}\r\n          onChangeText={setFormDescription}\r\n          placeholder=\"Enter episode description\"\r\n          multiline\r\n          numberOfLines={4}\r\n          textAlignVertical=\"top\"\r\n        />\r\n      </View>\r\n      \r\n      <View style={styles.row}>\r\n        <View style={[styles.formGroup, styles.halfWidth]}>\r\n          <Text style={styles.label}>Episode Number</Text>\r\n          <TextInput\r\n            style={styles.input}\r\n            value={formEpisodeNumber}\r\n            onChangeText={setFormEpisodeNumber}\r\n            placeholder=\"e.g. 1\"\r\n            keyboardType=\"numeric\"\r\n          />\r\n        </View>\r\n        \r\n        <View style={[styles.formGroup, styles.halfWidth]}>\r\n          <Text style={styles.label}>Duration</Text>\r\n          <TextInput\r\n            style={styles.input}\r\n            value={formDuration}\r\n            onChangeText={setFormDuration}\r\n            placeholder=\"e.g. 45 min\"\r\n          />\r\n        </View>\r\n      </View>\r\n      \r\n      <View style={styles.formGroup}>\r\n        <Text style={styles.label}>Video URL</Text>\r\n        <Button\r\n          title={videoUploading ? 'Uploading...' : (formVideoId ? 'Change Video' : 'Select Video')}\r\n          onPress={handleVideoSelect}\r\n          buttonStyle={styles.uploadButton}\r\n          containerStyle={styles.buttonContainer}\r\n          disabled={videoUploading}\r\n          icon={<Icon name=\"upload\" type=\"feather\" color=\"#fff\" size={16} style={{ marginRight: 8 }} />}\r\n        />\r\n        {formVideoUrl ? (\r\n          <Text style={styles.uploadedVideoText} numberOfLines={1}>{formVideoUrl}</Text>\r\n        ) : null}\r\n      </View>\r\n      \r\n      <View style={styles.formGroup}>\r\n        <Text style={styles.label}>Episode Thumbnail</Text>\r\n        <Button\r\n          title={formThumbnail ? \"Change Thumbnail\" : \"Select Thumbnail\"}\r\n          onPress={() => pickImage(setFormThumbnail)}\r\n          buttonStyle={styles.imageButton}\r\n          icon={<Icon name=\"image\" type=\"feather\" color=\"#fff\" size={16} style={{marginRight: 8}} />}\r\n        />\r\n        {formThumbnail && (\r\n          <Image source={{ uri: formThumbnail }} style={styles.previewImage} />\r\n        )}\r\n      </View>\r\n      \r\n      <View style={styles.formActions}>\r\n        <Button\r\n          title=\"Cancel\"\r\n          onPress={() => {\r\n            setShowAddForm(false);\r\n            resetForm();\r\n          }}\r\n          buttonStyle={styles.cancelButton}\r\n          containerStyle={styles.actionButtonContainer}\r\n        />\r\n        \r\n        <Button\r\n          title={formSubmitting ? \"Submitting...\" : \"Save Episode\"}\r\n          onPress={handleSubmit}\r\n          disabled={formSubmitting || !formTitle.trim()}\r\n          buttonStyle={styles.submitButton}\r\n          containerStyle={styles.actionButtonContainer}\r\n          icon={<Icon name=\"check\" type=\"feather\" color=\"#fff\" size={16} style={{marginRight: 8}} />}\r\n        />\r\n      </View>\r\n    </Card>\r\n  );\r\n\r\n  if (seriesId && !seriesData && !loading) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text>Series not found</Text>\r\n        <Button \r\n          title=\"Go Back\" \r\n          onPress={() => navigation.goBack()} \r\n          buttonStyle={styles.backButton}\r\n          containerStyle={{marginTop: 20}}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={[styles.container, { backgroundColor: appTheme?.colors?.background || theme.colors.background }]}>\r\n      <HeaderBar />\r\n      \r\n      <View style={styles.bodyContainer}>\r\n        {!isMobile && (\r\n          <Sidebar\r\n            navigation={navigation}\r\n            activeSection={activeSection}\r\n            onSectionChange={setActiveSection}\r\n          />\r\n        )}\r\n        \r\n        <ScrollView style={styles.contentContainer} keyboardShouldPersistTaps=\"handled\">\r\n          <View style={styles.breadcrumbs}>\r\n            <TouchableOpacity \r\n              style={styles.breadcrumbItem} \r\n              onPress={() => navigation.goBack()}\r\n            >\r\n              <Icon name=\"chevron-left\" type=\"feather\" size={16} color={appTheme.colors.text} />\r\n              <Text style={styles.breadcrumbText}>Back</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          \r\n          {seriesData && (\r\n            <View style={styles.seriesHeader}>\r\n              {seriesData.thumbnailUrl && (\r\n                <Image \r\n                  source={{ uri: seriesData.thumbnailUrl }} \r\n                  style={styles.seriesThumbnail}\r\n                />\r\n              )}\r\n              <View style={styles.seriesInfo}>\r\n                <Text h4 style={styles.seriesTitle}>{seriesData.title}</Text>\r\n                <Text style={styles.seriesDescription} numberOfLines={2}>\r\n                  {seriesData.description}\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          )}\r\n          \r\n          <View style={styles.header}>\r\n            <View style={styles.titleSection}>\r\n              <Text h4 style={styles.headerTitle}>Episode Management</Text>\r\n              <Text style={styles.subtitle}>Manage episodes for this series</Text>\r\n            </View>\r\n            \r\n            <Button\r\n              icon={<Icon name={showAddForm ? \"x\" : \"plus\"} type=\"feather\" color=\"#fff\" size={18} style={{marginRight: 10}} />}\r\n              title={showAddForm ? \"Cancel\" : \"Add New Episode\"}\r\n              onPress={() => setShowAddForm(!showAddForm)}\r\n              buttonStyle={[styles.addButton, showAddForm && styles.cancelAddButton]}\r\n              containerStyle={styles.addButtonContainer}\r\n            />\r\n          </View>\r\n          \r\n          {showAddForm && <AddEpisodeForm />}\r\n          \r\n          <View style={styles.filtersContainer}>\r\n            <View style={styles.searchContainer}>\r\n              <Icon name=\"search\" type=\"feather\" color=\"#888\" size={20} style={styles.searchIcon} />\r\n              <TextInput\r\n                style={styles.searchInput}\r\n                placeholder=\"Search episodes by title or description...\"\r\n                value={searchQuery}\r\n                onChangeText={setSearchQuery}\r\n                placeholderTextColor=\"#888\"\r\n              />\r\n              {searchQuery ? (\r\n                <TouchableOpacity onPress={() => setSearchQuery('')} style={styles.clearButton}>\r\n                  <Icon name=\"x\" type=\"feather\" color=\"#888\" size={18} />\r\n                </TouchableOpacity>\r\n              ) : null}\r\n            </View>\r\n            \r\n            <View style={styles.filterOptions}>\r\n              <View style={styles.filterGroup}>\r\n                <Text style={styles.filterLabel}>Sort by:</Text>\r\n                <TouchableOpacity\r\n                  style={styles.sortDropdown}\r\n                  onPress={() => {\r\n                    const options = [\r\n                      { label: 'Episode (Ascending)', value: 'episodeAsc' },\r\n                      { label: 'Episode (Descending)', value: 'episodeDesc' },\r\n                      { label: 'Title (A-Z)', value: 'titleAsc' },\r\n                      { label: 'Title (Z-A)', value: 'titleDesc' },\r\n                      { label: 'Date Added (Newest)', value: 'dateDesc' },\r\n                      { label: 'Date Added (Oldest)', value: 'dateAsc' }\r\n                    ];\r\n                    \r\n                    // Simple dropdown simulation\r\n                    const currentIndex = options.findIndex(o => o.value === sortBy);\r\n                    const nextIndex = (currentIndex + 1) % options.length;\r\n                    setSortBy(options[nextIndex].value);\r\n                  }}\r\n                >\r\n                  <Text style={styles.sortText}>{\r\n                    sortBy === 'episodeAsc' ? 'Episode (Ascending)' :\r\n                    sortBy === 'episodeDesc' ? 'Episode (Descending)' :\r\n                    sortBy === 'titleAsc' ? 'Title (A-Z)' :\r\n                    sortBy === 'titleDesc' ? 'Title (Z-A)' :\r\n                    sortBy === 'dateDesc' ? 'Date Added (Newest)' :\r\n                    'Date Added (Oldest)'\r\n                  }</Text>\r\n                  <Icon name=\"chevron-down\" type=\"feather\" size={16} color=\"#555\" />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          \r\n          {loading ? (\r\n            <ActivityIndicator size=\"large\" color={theme.colors.primary} style={styles.loader} />\r\n          ) : filteredEpisodes.length === 0 ? (\r\n            <View style={styles.emptyContainer}>\r\n              <Icon name=\"film\" type=\"feather\" size={48} color=\"#ccc\" />\r\n              <Text style={styles.emptyText}>No episodes found</Text>\r\n              <Text style={styles.emptySubText}>\r\n                {searchQuery \r\n                  ? 'Try adjusting your search criteria' \r\n                  : 'Get started by adding your first episode'}\r\n              </Text>\r\n              <Button\r\n                title=\"Add Your First Episode\"\r\n                onPress={() => setShowAddForm(true)}\r\n                buttonStyle={styles.emptyButton}\r\n                containerStyle={styles.emptyButtonContainer}\r\n              />\r\n            </View>\r\n          ) : (\r\n            <View style={styles.episodesList}>\r\n              <Text style={styles.resultsText}>\r\n                {filteredEpisodes.length} {filteredEpisodes.length === 1 ? 'episode' : 'episodes'} found\r\n              </Text>\r\n              {filteredEpisodes.map(item => (\r\n                <View key={item.id}>\r\n                  {renderEpisodeCard({item})}\r\n                </View>\r\n              ))}\r\n            </View>\r\n          )}\r\n        </ScrollView>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    minHeight: '100vh',\r\n  },\r\n  bodyContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 'calc(100vh - 64px)',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    padding: 20,\r\n    backgroundColor: '#f8f9fa',\r\n  },\r\n  breadcrumbs: {\r\n    marginBottom: 16,\r\n  },\r\n  breadcrumbItem: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  breadcrumbText: {\r\n    color: theme.colors.primary,\r\n    marginLeft: 4,\r\n    fontSize: 14,\r\n  },\r\n  seriesHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    padding: 16,\r\n    borderRadius: 8,\r\n    marginBottom: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.05,\r\n    shadowRadius: 4,\r\n  },\r\n  seriesThumbnail: {\r\n    width: 80,\r\n    height: 60,\r\n    borderRadius: 4,\r\n    marginRight: 16,\r\n  },\r\n  seriesInfo: {\r\n    flex: 1,\r\n  },\r\n  seriesTitle: {\r\n    fontSize: 20,\r\n    marginBottom: 4,\r\n  },\r\n  seriesDescription: {\r\n    color: '#666',\r\n    fontSize: 14,\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  titleSection: {\r\n    flex: 1,\r\n  },\r\n  headerTitle: {\r\n    color: theme.colors.text,\r\n    marginBottom: 4,\r\n    fontSize: 24,\r\n  },\r\n  subtitle: {\r\n    color: '#666',\r\n    fontSize: 16,\r\n  },\r\n  addButton: {\r\n    backgroundColor: theme.colors.success,\r\n    paddingHorizontal: 20,\r\n    height: 42,\r\n    borderRadius: 6,\r\n  },\r\n  cancelAddButton: {\r\n    backgroundColor: theme.colors.error,\r\n  },\r\n  addButtonContainer: {\r\n    marginLeft: 16,\r\n  },\r\n  formCard: {\r\n    padding: 20,\r\n    marginBottom: 20,\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  formGroup: {\r\n    marginBottom: 16,\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    marginHorizontal: -8,\r\n  },\r\n  halfWidth: {\r\n    width: '50%',\r\n    paddingHorizontal: 8,\r\n  },\r\n  label: {\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    marginBottom: 6,\r\n    color: '#444',\r\n  },\r\n  input: {\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 4,\r\n    padding: 10,\r\n    fontSize: 16,\r\n    backgroundColor: '#fff',\r\n    color: '#333',\r\n  },\r\n  textArea: {\r\n    minHeight: 100,\r\n    textAlignVertical: 'top',\r\n  },\r\n  imageButton: {\r\n    backgroundColor: theme.colors.primary,\r\n    marginBottom: 10,\r\n  },\r\n  previewImage: {\r\n    width: '100%',\r\n    height: 200,\r\n    borderRadius: 4,\r\n    marginTop: 10,\r\n  },\r\n  formActions: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    marginTop: 20,\r\n  },\r\n  actionButtonContainer: {\r\n    marginLeft: 10,\r\n    width: 150,\r\n  },\r\n  cancelButton: {\r\n    backgroundColor: '#999',\r\n  },\r\n  submitButton: {\r\n    backgroundColor: theme.colors.success,\r\n  },\r\n  filtersContainer: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    padding: 16,\r\n    marginBottom: 20,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.05,\r\n    shadowRadius: 4,\r\n    elevation: 2,\r\n  },\r\n  searchContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    borderRadius: 6,\r\n    paddingHorizontal: 12,\r\n    marginBottom: 16,\r\n  },\r\n  searchIcon: {\r\n    marginRight: 8,\r\n  },\r\n  searchInput: {\r\n    flex: 1,\r\n    height: 42,\r\n    color: '#333',\r\n    fontSize: 16,\r\n  },\r\n  clearButton: {\r\n    padding: 4,\r\n  },\r\n  filterOptions: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n  },\r\n  filterGroup: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginRight: 20,\r\n    marginBottom: 8,\r\n  },\r\n  filterLabel: {\r\n    color: '#555',\r\n    fontWeight: 'bold',\r\n    marginRight: 12,\r\n    fontSize: 14,\r\n  },\r\n  sortDropdown: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#eee',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 6,\r\n    borderRadius: 6,\r\n  },\r\n  sortText: {\r\n    color: '#555',\r\n    marginRight: 8,\r\n    fontSize: 14,\r\n  },\r\n  resultsText: {\r\n    color: '#666',\r\n    fontSize: 14,\r\n    marginBottom: 16,\r\n  },\r\n  episodesList: {\r\n    marginBottom: 20,\r\n  },\r\n  episodeCard: {\r\n    borderRadius: 8,\r\n    marginBottom: 16,\r\n    padding: 0,\r\n    overflow: 'hidden',\r\n  },\r\n  cardHeader: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: 16,\r\n    backgroundColor: '#f8f9fa',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  cardTitleRow: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  episodeNumberBadge: {\r\n    width: 32,\r\n    height: 32,\r\n    borderRadius: 16,\r\n    backgroundColor: theme.colors.primary,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginRight: 12,\r\n  },\r\n  episodeNumberText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n  cardTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    flex: 1,\r\n  },\r\n  cardActionButtons: {\r\n    flexDirection: 'row',\r\n  },\r\n  iconButton: {\r\n    width: 30,\r\n    height: 30,\r\n    borderRadius: 4,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginLeft: 8,\r\n  },\r\n  editButton: {\r\n    backgroundColor: theme.colors.primary,\r\n  },\r\n  deleteButton: {\r\n    backgroundColor: theme.colors.error,\r\n  },\r\n  cardContent: {\r\n    flexDirection: 'row',\r\n    padding: 16,\r\n  },\r\n  thumbnail: {\r\n    width: 160,\r\n    height: 90,\r\n    borderRadius: 4,\r\n  },\r\n  cardDetails: {\r\n    flex: 1,\r\n    marginLeft: 16,\r\n  },\r\n  cardDescription: {\r\n    fontSize: 14,\r\n    color: '#555',\r\n    marginBottom: 12,\r\n    lineHeight: 20,\r\n  },\r\n  metadataContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n  },\r\n  metadataTag: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f0f0f0',\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 4,\r\n    borderRadius: 4,\r\n    marginRight: 8,\r\n    marginBottom: 8,\r\n  },\r\n  metadataIcon: {\r\n    marginRight: 4,\r\n  },\r\n  metadataText: {\r\n    color: '#555',\r\n    fontSize: 12,\r\n  },\r\n  cardDivider: {\r\n    marginVertical: 0,\r\n  },\r\n  cardActions: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    padding: 16,\r\n  },\r\n  previewButton: {\r\n    backgroundColor: theme.colors.primary,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 4,\r\n  },\r\n  addVideoButton: {\r\n    backgroundColor: theme.colors.warning,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 4,\r\n  },\r\n  editDetailsButton: {\r\n    backgroundColor: theme.colors.accent,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 4,\r\n  },\r\n  loader: {\r\n    marginTop: 40,\r\n  },\r\n  emptyContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#fff',\r\n    padding: 40,\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n  },\r\n  emptyText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#555',\r\n    marginTop: 16,\r\n  },\r\n  emptySubText: {\r\n    fontSize: 14,\r\n    color: '#888',\r\n    marginTop: 8,\r\n    textAlign: 'center',\r\n    marginBottom: 24,\r\n  },\r\n  emptyButton: {\r\n    backgroundColor: theme.colors.primary,\r\n    paddingHorizontal: 24,\r\n    height: 48,\r\n    borderRadius: 6,\r\n  },\r\n  emptyButtonContainer: {\r\n    width: 200,\r\n  },\r\n  backButton: {\r\n    backgroundColor: theme.colors.primary,\r\n  },\r\n  uploadButton: {\r\n    backgroundColor: theme.colors.primary,\r\n  },\r\n  uploadedVideoText: {\r\n    color: '#333',\r\n    fontSize: 14,\r\n    marginTop: 8,\r\n  },\r\n  buttonContainer: {\r\n    marginVertical: 8,\r\n  },\r\n});\r\n\r\n// Wrap with ThemeProvider for dark/light mode support\r\nconst EpisodeManagementScreenWithTheme = (props) => (\r\n  <ThemeProvider>\r\n    <EpisodeManagementScreen {...props} />\r\n  </ThemeProvider>\r\n);\r\n\r\nexport default EpisodeManagementScreenWithTheme; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ErrorBoundary = function (_React$Component) {\n  function ErrorBoundary(props) {\n    var _this;\n    _classCallCheck(this, ErrorBoundary);\n    _this = _callSuper(this, ErrorBoundary, [props]);\n    _this.resetError = function () {\n      _this.setState({\n        isRecovering: true\n      });\n      setTimeout(function () {\n        _this.setState({\n          hasError: false,\n          error: null,\n          errorInfo: null,\n          isRecovering: false\n        });\n      }, 500);\n    };\n    _this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      isRecovering: false\n    };\n    return _this;\n  }\n  _inherits(ErrorBoundary, _React$Component);\n  return _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      console.error('App crashed with error:', error);\n      console.error('Component stack:', errorInfo.componentStack);\n      this.setState({\n        errorInfo: errorInfo\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.hasError) {\n        var _this$state$error, _this$state$error$mes, _this$state$error2, _this$state$error2$me, _this$state$errorInfo, _this$state$errorInfo2, _this$state$error3, _this$state$errorInfo3;\n        var isAssetError = ((_this$state$error = this.state.error) == null ? void 0 : (_this$state$error$mes = _this$state$error.message) == null ? void 0 : _this$state$error$mes.includes('asset')) || ((_this$state$error2 = this.state.error) == null ? void 0 : (_this$state$error2$me = _this$state$error2.message) == null ? void 0 : _this$state$error2$me.includes('resource')) || ((_this$state$errorInfo = this.state.errorInfo) == null ? void 0 : (_this$state$errorInfo2 = _this$state$errorInfo.componentStack) == null ? void 0 : _this$state$errorInfo2.includes('AppSplash'));\n        var errorMessage = isAssetError ? \"Failed to load app resources. This might be due to a connection issue or corrupted app cache.\" : (_this$state$error3 = this.state.error) == null ? void 0 : _this$state$error3.toString();\n        var recoveryHelp = isAssetError ? \"Try closing the app completely and reopening it, or check your internet connection.\" : \"\";\n        return _jsx(SafeAreaView, {\n          style: styles.container,\n          children: _jsxs(View, {\n            style: styles.content,\n            children: [_jsx(Text, {\n              style: styles.title,\n              children: \"Something went wrong!\"\n            }), this.state.isRecovering ? _jsxs(View, {\n              style: styles.loadingContainer,\n              children: [_jsx(ActivityIndicator, {\n                size: \"large\",\n                color: \"#FF3B30\"\n              }), _jsx(Text, {\n                style: styles.loadingText,\n                children: \"Attempting to recover...\"\n              })]\n            }) : _jsxs(_Fragment, {\n              children: [_jsxs(ScrollView, {\n                style: styles.errorContainer,\n                children: [_jsx(Text, {\n                  style: styles.errorText,\n                  children: errorMessage\n                }), recoveryHelp ? _jsx(Text, {\n                  style: styles.helpText,\n                  children: recoveryHelp\n                }) : null, !isAssetError && _jsx(Text, {\n                  style: styles.stackText,\n                  children: ((_this$state$errorInfo3 = this.state.errorInfo) == null ? void 0 : _this$state$errorInfo3.componentStack) || 'No stack trace available'\n                })]\n              }), _jsx(TouchableOpacity, {\n                style: styles.button,\n                onPress: this.resetError,\n                children: _jsx(Text, {\n                  style: styles.buttonText,\n                  children: \"Try Again\"\n                })\n              })]\n            })]\n          })\n        });\n      }\n      return this.props.children;\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      return {\n        hasError: true,\n        error: error\n      };\n    }\n  }]);\n}(React.Component);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000'\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#FF3B30',\n    marginBottom: 20\n  },\n  errorContainer: {\n    maxHeight: 400,\n    width: '100%',\n    marginBottom: 20,\n    backgroundColor: '#111',\n    padding: 15,\n    borderRadius: 8\n  },\n  errorText: {\n    color: '#FF6B6B',\n    fontSize: 16,\n    marginBottom: 10\n  },\n  helpText: {\n    color: '#FFCC80',\n    fontSize: 14,\n    marginBottom: 15\n  },\n  stackText: {\n    color: '#BBBBBB',\n    fontSize: 12\n  },\n  button: {\n    backgroundColor: '#FF3B30',\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    borderRadius: 8\n  },\n  buttonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  loadingContainer: {\n    height: 200,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loadingText: {\n    color: '#FFFFFF',\n    marginTop: 20,\n    fontSize: 16\n  }\n});\nexport default ErrorBoundary;","map":{"version":3,"names":["React","View","Text","StyleSheet","TouchableOpacity","ScrollView","ActivityIndicator","SafeAreaView","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ErrorBoundary","_React$Component","props","_this","_classCallCheck","_callSuper","resetError","setState","isRecovering","setTimeout","hasError","error","errorInfo","state","_inherits","_createClass","key","value","componentDidCatch","console","componentStack","render","_this$state$error","_this$state$error$mes","_this$state$error2","_this$state$error2$me","_this$state$errorInfo","_this$state$errorInfo2","_this$state$error3","_this$state$errorInfo3","isAssetError","message","includes","errorMessage","toString","recoveryHelp","style","styles","container","children","content","title","loadingContainer","size","color","loadingText","errorContainer","errorText","helpText","stackText","button","onPress","buttonText","getDerivedStateFromError","Component","create","flex","backgroundColor","padding","justifyContent","alignItems","fontSize","fontWeight","marginBottom","maxHeight","width","borderRadius","paddingVertical","paddingHorizontal","height","marginTop"],"sources":["E:/bigshow/src/components/common/ErrorBoundary.js"],"sourcesContent":["import React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      hasError: false, \r\n      error: null, \r\n      errorInfo: null,\r\n      isRecovering: false\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // Log the error to console for debugging\r\n    console.error('App crashed with error:', error);\r\n    console.error('Component stack:', errorInfo.componentStack);\r\n    this.setState({ errorInfo });\r\n  }\r\n\r\n  resetError = () => {\r\n    this.setState({ isRecovering: true });\r\n    \r\n    // Allow UI to update to show recovery attempt before actually recovering\r\n    setTimeout(() => {\r\n      this.setState({ \r\n        hasError: false, \r\n        error: null, \r\n        errorInfo: null,\r\n        isRecovering: false \r\n      });\r\n    }, 500);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Check if error is related to assets loading\r\n      const isAssetError = this.state.error?.message?.includes('asset') || \r\n                         this.state.error?.message?.includes('resource') ||\r\n                         this.state.errorInfo?.componentStack?.includes('AppSplash');\r\n      \r\n      const errorMessage = isAssetError \r\n        ? \"Failed to load app resources. This might be due to a connection issue or corrupted app cache.\"\r\n        : this.state.error?.toString();\r\n        \r\n      const recoveryHelp = isAssetError \r\n        ? \"Try closing the app completely and reopening it, or check your internet connection.\"\r\n        : \"\";\r\n\r\n      return (\r\n        <SafeAreaView style={styles.container}>\r\n          <View style={styles.content}>\r\n            <Text style={styles.title}>Something went wrong!</Text>\r\n            \r\n            {this.state.isRecovering ? (\r\n              <View style={styles.loadingContainer}>\r\n                <ActivityIndicator size=\"large\" color=\"#FF3B30\" />\r\n                <Text style={styles.loadingText}>Attempting to recover...</Text>\r\n              </View>\r\n            ) : (\r\n              <>\r\n                <ScrollView style={styles.errorContainer}>\r\n                  <Text style={styles.errorText}>{errorMessage}</Text>\r\n                  \r\n                  {recoveryHelp ? (\r\n                    <Text style={styles.helpText}>{recoveryHelp}</Text>\r\n                  ) : null}\r\n                  \r\n                  {!isAssetError && (\r\n                    <Text style={styles.stackText}>\r\n                      {this.state.errorInfo?.componentStack || 'No stack trace available'}\r\n                    </Text>\r\n                  )}\r\n                </ScrollView>\r\n                \r\n                <TouchableOpacity \r\n                  style={styles.button}\r\n                  onPress={this.resetError}\r\n                >\r\n                  <Text style={styles.buttonText}>Try Again</Text>\r\n                </TouchableOpacity>\r\n              </>\r\n            )}\r\n          </View>\r\n        </SafeAreaView>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  title: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    color: '#FF3B30',\r\n    marginBottom: 20,\r\n  },\r\n  errorContainer: {\r\n    maxHeight: 400,\r\n    width: '100%',\r\n    marginBottom: 20,\r\n    backgroundColor: '#111',\r\n    padding: 15,\r\n    borderRadius: 8,\r\n  },\r\n  errorText: {\r\n    color: '#FF6B6B',\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n  },\r\n  helpText: {\r\n    color: '#FFCC80',\r\n    fontSize: 14,\r\n    marginBottom: 15,\r\n  },\r\n  stackText: {\r\n    color: '#BBBBBB',\r\n    fontSize: 12,\r\n  },\r\n  button: {\r\n    backgroundColor: '#FF3B30',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  loadingContainer: {\r\n    height: 200,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  loadingText: {\r\n    color: '#FFFFFF',\r\n    marginTop: 20,\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default ErrorBoundary; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
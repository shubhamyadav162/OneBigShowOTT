{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useRef, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { Video } from 'expo-av';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { MaterialIcons as Icon } from '@expo/vector-icons';\nimport * as ScreenOrientation from 'expo-screen-orientation';\nimport * as Brightness from 'expo-brightness';\nimport Slider from '@react-native-community/slider';\nimport contentApi from \"../../api/contentApi\";\nimport analyticsApi from \"../../api/analyticsApi\";\nimport { auth } from \"../../lib/firebaseClient\";\nimport theme from \"../../theme\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar VideoPlayerScreen = function VideoPlayerScreen() {\n  var navigation = useNavigation();\n  var route = useRoute();\n  var _ref = route.params || {},\n    contentId = _ref.contentId,\n    episodeId = _ref.episodeId,\n    title = _ref.title,\n    continueWatching = _ref.continueWatching,\n    source = _ref.source;\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width,\n    height = _useWindowDimensions.height;\n  var videoRef = useRef(null);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isPlaying = _useState2[0],\n    setIsPlaying = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    duration = _useState4[0],\n    setDuration = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentTime = _useState6[0],\n    setCurrentTime = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isBuffering = _useState8[0],\n    setIsBuffering = _useState8[1];\n  var _useState9 = useState(true),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showControls = _useState0[0],\n    setShowControls = _useState0[1];\n  var _useState1 = useState(null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    videoUrl = _useState10[0],\n    setVideoUrl = _useState10[1];\n  var _useState11 = useState(title || ''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    videoTitle = _useState12[0],\n    setVideoTitle = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    videoError = _useState14[0],\n    setVideoError = _useState14[1];\n  var controlsTimeoutRef = useRef(null);\n  var _useState15 = useState(1),\n    _useState16 = _slicedToArray(_useState15, 2),\n    internalBrightness = _useState16[0],\n    setInternalBrightness = _useState16[1];\n  var _useState17 = useState(1),\n    _useState18 = _slicedToArray(_useState17, 2),\n    internalVolume = _useState18[0],\n    setInternalVolume = _useState18[1];\n  var _useState19 = useState(1),\n    _useState20 = _slicedToArray(_useState19, 2),\n    playbackRate = _useState20[0],\n    setPlaybackRate = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    muted = _useState22[0],\n    setMuted = _useState22[1];\n  var _useState23 = useState(false),\n    _useState24 = _slicedToArray(_useState23, 2),\n    isLooping = _useState24[0],\n    setIsLooping = _useState24[1];\n  var _useState25 = useState(false),\n    _useState26 = _slicedToArray(_useState25, 2),\n    showBrightnessOverlay = _useState26[0],\n    setShowBrightnessOverlay = _useState26[1];\n  var _useState27 = useState(false),\n    _useState28 = _slicedToArray(_useState27, 2),\n    showVolumeOverlay = _useState28[0],\n    setShowVolumeOverlay = _useState28[1];\n  var _useState29 = useState(false),\n    _useState30 = _slicedToArray(_useState29, 2),\n    isLocked = _useState30[0],\n    setIsLocked = _useState30[1];\n  var overlayTimeoutRef = useRef(null);\n  var startBrightnessRef = useRef(internalBrightness);\n  var startVolumeRef = useRef(internalVolume);\n  var startXRef = useRef(0);\n  var startYRef = useRef(0);\n  var OVERLAY_HEIGHT = 200;\n  var panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return !showControls;\n    },\n    onPanResponderGrant: function onPanResponderGrant(evt, gestureState) {\n      startXRef.current = gestureState.x0;\n      startYRef.current = gestureState.y0;\n      startBrightnessRef.current = internalBrightness;\n      startVolumeRef.current = internalVolume;\n    },\n    onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n      var dx = gestureState.dx,\n        dy = gestureState.dy;\n      if (Math.abs(dy) < 10 || Math.abs(dy) < Math.abs(dx)) return;\n      if (startXRef.current < width / 2) {\n        setShowBrightnessOverlay(true);\n        setShowVolumeOverlay(false);\n      } else {\n        setShowVolumeOverlay(true);\n        setShowBrightnessOverlay(false);\n      }\n      if (overlayTimeoutRef.current) clearTimeout(overlayTimeoutRef.current);\n      var change = -dy / height;\n      if (startXRef.current < width / 2) {\n        var newBrightness = startBrightnessRef.current + change;\n        newBrightness = Math.max(0, Math.min(1, newBrightness));\n        setInternalBrightness(newBrightness);\n        Brightness.setBrightnessAsync(newBrightness).catch(function () {});\n      } else {\n        var newVolume = startVolumeRef.current + change;\n        newVolume = Math.max(0, Math.min(1, newVolume));\n        setInternalVolume(newVolume);\n        if (videoRef.current) videoRef.current.setVolumeAsync(newVolume);\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {\n      var dx = gestureState.moveX - startXRef.current;\n      var dy = gestureState.moveY - startYRef.current;\n      if (Math.hypot(dx, dy) < 10) handleVideoPress();\n      overlayTimeoutRef.current = setTimeout(function () {\n        setShowBrightnessOverlay(false);\n        setShowVolumeOverlay(false);\n      }, 1000);\n    }\n  });\n  useEffect(function () {\n    var loadVideoDetails = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var response;\n          if (episodeId) {\n            response = yield contentApi.getEpisodeDetails(contentId, episodeId);\n            if (response.success) {\n              var _auth$currentUser;\n              setVideoUrl(response.data.videoUrl);\n              setVideoTitle(response.data.title);\n              analyticsApi.logEvent('video_view', {\n                userId: (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid,\n                contentId: contentId,\n                secondsWatched: 0\n              });\n            }\n          } else {\n            response = yield contentApi.getContentDetails(contentId);\n            if (response.success) {\n              var _auth$currentUser2;\n              setVideoUrl(response.data.videoUrl);\n              setVideoTitle(response.data.title);\n              analyticsApi.logEvent('video_view', {\n                userId: (_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.uid,\n                contentId: contentId,\n                secondsWatched: 0\n              });\n            }\n          }\n          if (!response.success) {\n            setVideoError('Failed to load video. Please try again.');\n          }\n        } catch (error) {\n          console.error('Error loading video:', error);\n          setVideoError('Failed to load video. Please try again.');\n        }\n      });\n      return function loadVideoDetails() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    if (source) {\n      var _auth$currentUser3;\n      setVideoUrl(source);\n      setVideoTitle(title || '');\n      setIsBuffering(false);\n      analyticsApi.logEvent('video_view', {\n        userId: (_auth$currentUser3 = auth.currentUser) == null ? void 0 : _auth$currentUser3.uid,\n        contentId: contentId,\n        secondsWatched: 0\n      });\n    } else {\n      loadVideoDetails();\n    }\n    var lockOrientation = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        yield ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\n      });\n      return function lockOrientation() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    lockOrientation();\n    _asyncToGenerator(function* () {\n      var _yield$Brightness$req = yield Brightness.requestPermissionsAsync(),\n        status = _yield$Brightness$req.status;\n      if (status === 'granted') {\n        var current = yield Brightness.getBrightnessAsync();\n        setInternalBrightness(current);\n        startBrightnessRef.current = current;\n      }\n    })();\n    if (continueWatching && continueWatching.position) {\n      setCurrentTime(continueWatching.position);\n    }\n    return function () {\n      var unlockOrientation = function () {\n        var _ref5 = _asyncToGenerator(function* () {\n          yield ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.PORTRAIT);\n        });\n        return function unlockOrientation() {\n          return _ref5.apply(this, arguments);\n        };\n      }();\n      unlockOrientation();\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, [contentId, episodeId, continueWatching, source, title]);\n  var handleVideoPress = function handleVideoPress() {\n    if (isLocked) return;\n    setShowControls(!showControls);\n    if (!showControls) {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n      controlsTimeoutRef.current = setTimeout(function () {\n        setShowControls(false);\n      }, 5000);\n    }\n  };\n  var togglePlayPause = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      if (isPlaying) {\n        var _auth$currentUser4;\n        analyticsApi.logEvent('watch_time', {\n          userId: (_auth$currentUser4 = auth.currentUser) == null ? void 0 : _auth$currentUser4.uid,\n          contentId: contentId,\n          secondsWatched: currentTime\n        });\n      }\n      setIsPlaying(function (prev) {\n        return !prev;\n      });\n    });\n    return function togglePlayPause() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var handleRewind = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      if (videoRef.current) {\n        var newTime = Math.max(0, currentTime - 10);\n        yield videoRef.current.setPositionAsync(newTime * 1000);\n        setCurrentTime(newTime);\n      }\n    });\n    return function handleRewind() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var handleFastForward = function () {\n    var _ref8 = _asyncToGenerator(function* () {\n      if (videoRef.current) {\n        var newTime = Math.min(duration, currentTime + 10);\n        yield videoRef.current.setPositionAsync(newTime * 1000);\n        setCurrentTime(newTime);\n      }\n    });\n    return function handleFastForward() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var toggleMute = function () {\n    var _ref9 = _asyncToGenerator(function* () {\n      var newMuted = !muted;\n      setMuted(newMuted);\n      if (videoRef.current) {\n        yield videoRef.current.setIsMutedAsync(newMuted);\n      }\n    });\n    return function toggleMute() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  var toggleSpeed = function () {\n    var _ref0 = _asyncToGenerator(function* () {\n      var rates = [0.5, 1, 1.5, 2];\n      var currentIndex = rates.indexOf(playbackRate);\n      var nextIndex = (currentIndex + 1) % rates.length;\n      var newRate = rates[nextIndex];\n      setPlaybackRate(newRate);\n      if (videoRef.current) {\n        yield videoRef.current.setRateAsync(newRate, true);\n      }\n    });\n    return function toggleSpeed() {\n      return _ref0.apply(this, arguments);\n    };\n  }();\n  var handleSeek = function () {\n    var _ref1 = _asyncToGenerator(function* (value) {\n      if (videoRef.current) {\n        yield videoRef.current.setPositionAsync(value * 1000);\n      }\n      setCurrentTime(value);\n    });\n    return function handleSeek(_x) {\n      return _ref1.apply(this, arguments);\n    };\n  }();\n  var handleLoad = function () {\n    var _ref10 = _asyncToGenerator(function* (status) {\n      if (status.isLoaded) {\n        setDuration(status.durationMillis / 1000);\n        setIsBuffering(false);\n        if (continueWatching && continueWatching.position) {\n          yield videoRef.current.setPositionAsync(continueWatching.position * 1000);\n        }\n      } else if (status.error) {\n        console.error('Video loading error:', status.error);\n        setVideoError(`Failed to load video: ${status.error}`);\n      }\n    });\n    return function handleLoad(_x2) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n  var handlePlaybackStatusUpdate = function handlePlaybackStatusUpdate(status) {\n    if (status.isLoaded) {\n      setIsPlaying(status.isPlaying);\n      setCurrentTime(status.positionMillis / 1000);\n      setIsBuffering(status.isBuffering);\n      if (status.didJustFinish && !status.isLooping) {\n        var _auth$currentUser5;\n        analyticsApi.logEvent('video_complete', {\n          userId: (_auth$currentUser5 = auth.currentUser) == null ? void 0 : _auth$currentUser5.uid,\n          contentId: contentId,\n          secondsWatched: Math.floor(status.durationMillis / 1000)\n        });\n        setTimeout(function () {\n          navigation.goBack();\n        }, 2000);\n      }\n    }\n  };\n  var handleBack = function handleBack() {\n    navigation.goBack();\n  };\n  var formatTime = function formatTime(timeInSeconds) {\n    var minutes = Math.floor(timeInSeconds / 60);\n    var seconds = Math.floor(timeInSeconds % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n  var toggleLoop = function () {\n    var _ref11 = _asyncToGenerator(function* () {\n      var newLoop = !isLooping;\n      setIsLooping(newLoop);\n      if (videoRef.current) {\n        yield videoRef.current.setIsLoopingAsync(newLoop);\n      }\n    });\n    return function toggleLoop() {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n  var handlePictureInPicture = function () {\n    var _ref12 = _asyncToGenerator(function* () {\n      if (videoRef.current && videoRef.current.presentPictureInPictureAsync) {\n        yield videoRef.current.presentPictureInPictureAsync();\n      }\n    });\n    return function handlePictureInPicture() {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n  var toggleLock = function toggleLock() {\n    setIsLocked(function (prevLocked) {\n      var newLocked = !prevLocked;\n      setShowControls(!newLocked);\n      return newLocked;\n    });\n  };\n  if (videoError) {\n    return _jsxs(View, {\n      style: styles.errorContainer,\n      children: [_jsx(Text, {\n        style: styles.errorText,\n        children: videoError\n      }), _jsx(TouchableOpacity, {\n        style: styles.errorButton,\n        onPress: handleBack,\n        children: _jsx(Text, {\n          style: styles.errorButtonText,\n          children: \"Go Back\"\n        })\n      })]\n    });\n  }\n  if (!videoUrl) {\n    return _jsx(View, {\n      style: styles.loadingContainer,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: theme.colors.primary\n      })\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      hidden: true\n    }), _jsxs(View, _objectSpread(_objectSpread({\n      style: styles.videoContainer\n    }, panResponder.panHandlers), {}, {\n      children: [_jsx(Video, {\n        ref: videoRef,\n        source: {\n          uri: videoUrl\n        },\n        style: styles.video,\n        resizeMode: \"contain\",\n        shouldPlay: isPlaying,\n        rate: playbackRate,\n        isMuted: muted,\n        isLooping: isLooping,\n        onPlaybackStatusUpdate: handlePlaybackStatusUpdate,\n        onLoad: handleLoad,\n        onError: function onError(_ref13) {\n          var error = _ref13.error;\n          return setVideoError(`Failed to load video: ${error}`);\n        },\n        volume: internalVolume\n      }), _jsx(View, {\n        style: [styles.brightnessOverlay, {\n          opacity: 1 - internalBrightness\n        }],\n        pointerEvents: \"none\"\n      }), showBrightnessOverlay && _jsxs(View, {\n        style: [styles.customOverlay, {\n          left: 20,\n          top: '50%',\n          marginTop: -OVERLAY_HEIGHT / 2,\n          height: OVERLAY_HEIGHT,\n          width: 60\n        }],\n        children: [_jsx(Icon, {\n          name: \"brightness-medium\",\n          size: 30,\n          color: \"#FFF\"\n        }), _jsx(Slider, {\n          style: styles.verticalSlider,\n          value: internalBrightness,\n          step: 0.01,\n          minimumValue: 0,\n          maximumValue: 1,\n          onValueChange: function onValueChange(value) {\n            setInternalBrightness(value);\n            Brightness.setBrightnessAsync(value).catch(function () {});\n          },\n          onSlidingComplete: function onSlidingComplete(value) {\n            var finalVal = value < 0.02 ? 0 : value > 0.98 ? 1 : parseFloat(value.toFixed(2));\n            setInternalBrightness(finalVal);\n            Brightness.setBrightnessAsync(finalVal).catch(function () {});\n          },\n          minimumTrackTintColor: \"#FFF\",\n          maximumTrackTintColor: \"rgba(255,255,255,0.3)\",\n          thumbTintColor: \"#FFF\"\n        })]\n      }), showVolumeOverlay && _jsxs(View, {\n        style: [styles.customOverlay, {\n          right: 20,\n          top: '50%',\n          marginTop: -OVERLAY_HEIGHT / 2,\n          height: OVERLAY_HEIGHT,\n          width: 60\n        }],\n        children: [_jsx(Icon, {\n          name: internalVolume === 0 ? 'volume-off' : internalVolume < 0.5 ? 'volume-down' : 'volume-up',\n          size: 30,\n          color: \"#FFF\"\n        }), _jsx(Slider, {\n          style: styles.verticalSlider,\n          value: internalVolume,\n          step: 0.01,\n          minimumValue: 0,\n          maximumValue: 1,\n          onValueChange: function onValueChange(value) {\n            setInternalVolume(value);\n            if (videoRef.current) {\n              videoRef.current.setVolumeAsync(value);\n            }\n          },\n          onSlidingComplete: function onSlidingComplete(value) {\n            var finalVal = value < 0.02 ? 0 : value > 0.98 ? 1 : parseFloat(value.toFixed(2));\n            setInternalVolume(finalVal);\n            if (videoRef.current) {\n              videoRef.current.setVolumeAsync(finalVal);\n            }\n          },\n          minimumTrackTintColor: \"#FFF\",\n          maximumTrackTintColor: \"rgba(255,255,255,0.3)\",\n          thumbTintColor: \"#FFF\"\n        })]\n      }), isBuffering && _jsx(View, {\n        style: styles.bufferingContainer,\n        children: _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: theme.colors.primary\n        })\n      }), isLocked && _jsx(View, {\n        style: styles.unlockContainer,\n        children: _jsx(TouchableOpacity, {\n          onPress: toggleLock,\n          children: _jsx(Icon, {\n            name: \"lock-open\",\n            size: 30,\n            color: \"#FFF\"\n          })\n        })\n      }), showControls && _jsx(TouchableWithoutFeedback, {\n        onPress: handleVideoPress,\n        children: _jsxs(View, {\n          style: styles.controlsContainer,\n          children: [_jsxs(View, {\n            style: styles.topBar,\n            children: [_jsx(TouchableOpacity, {\n              style: styles.backButton,\n              onPress: handleBack,\n              children: _jsx(Icon, {\n                name: \"arrow-back\",\n                size: 24,\n                color: \"#FFF\"\n              })\n            }), _jsx(Text, {\n              style: styles.videoTitle,\n              numberOfLines: 1,\n              children: videoTitle\n            }), _jsx(View, {\n              style: styles.placeholder\n            })]\n          }), _jsxs(View, {\n            style: styles.centerControls,\n            children: [_jsx(TouchableOpacity, {\n              onPress: handleRewind,\n              children: _jsx(Icon, {\n                name: \"replay-10\",\n                size: 36,\n                color: \"#FFF\"\n              })\n            }), _jsx(TouchableOpacity, {\n              style: styles.playPauseButton,\n              onPress: togglePlayPause,\n              children: _jsx(Icon, {\n                name: isPlaying ? 'pause' : 'play-arrow',\n                size: 48,\n                color: \"#FFF\"\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: handleFastForward,\n              children: _jsx(Icon, {\n                name: \"forward-10\",\n                size: 36,\n                color: \"#FFF\"\n              })\n            })]\n          }), _jsxs(View, {\n            style: styles.extraControls,\n            children: [_jsx(TouchableOpacity, {\n              onPress: toggleLock,\n              style: {\n                marginRight: 12\n              },\n              children: _jsx(Icon, {\n                name: isLocked ? 'lock' : 'lock-open',\n                size: 24,\n                color: \"#FFF\"\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: toggleMute,\n              style: {\n                marginRight: 12\n              },\n              children: _jsx(Icon, {\n                name: muted ? 'volume-off' : 'volume-up',\n                size: 24,\n                color: \"#FFF\"\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: toggleSpeed,\n              style: {\n                marginRight: 12\n              },\n              children: _jsxs(Text, {\n                style: styles.speedText,\n                children: [playbackRate, \"x\"]\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: toggleLoop,\n              children: _jsx(Icon, {\n                name: isLooping ? 'repeat-one' : 'repeat',\n                size: 24,\n                color: \"#FFF\"\n              })\n            })]\n          }), _jsxs(View, {\n            style: styles.bottomBar,\n            children: [_jsx(Text, {\n              style: styles.timeText,\n              children: formatTime(currentTime)\n            }), _jsx(Slider, {\n              style: styles.progressBar,\n              minimumValue: 0,\n              maximumValue: duration,\n              value: currentTime,\n              onValueChange: handleSeek,\n              minimumTrackTintColor: theme.colors.primary,\n              maximumTrackTintColor: \"rgba(255, 255, 255, 0.3)\",\n              thumbTintColor: theme.colors.primary\n            }), _jsx(Text, {\n              style: styles.timeText,\n              children: formatTime(duration)\n            })]\n          })]\n        })\n      })]\n    }))]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000'\n  },\n  customOverlay: {\n    position: 'absolute',\n    backgroundColor: 'rgba(0,0,0,0.7)',\n    padding: 8,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 150\n  },\n  verticalSlider: {\n    width: 200,\n    height: 40,\n    transform: [{\n      rotate: '-90deg'\n    }]\n  },\n  videoContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  video: {\n    width: '100%',\n    height: '100%'\n  },\n  controlsContainer: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'space-between'\n  }),\n  topBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16\n  },\n  backButton: {\n    padding: 8\n  },\n  videoTitle: {\n    color: '#FFF',\n    fontSize: 18,\n    fontWeight: 'bold',\n    flex: 1,\n    textAlign: 'center',\n    marginHorizontal: 16\n  },\n  placeholder: {\n    width: 40\n  },\n  centerControls: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  playPauseButton: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  bottomBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16\n  },\n  progressBar: {\n    flex: 1,\n    height: 40,\n    marginHorizontal: 8\n  },\n  timeText: {\n    color: '#FFF',\n    fontSize: 14\n  },\n  bufferingContainer: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.3)'\n  }),\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#000'\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#000',\n    padding: 20\n  },\n  errorText: {\n    color: '#FFF',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  errorButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5\n  },\n  errorButtonText: {\n    color: '#FFF',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  brightnessOverlay: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    backgroundColor: 'black'\n  }),\n  extraControls: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    paddingHorizontal: 16,\n    paddingVertical: 8\n  },\n  unlockContainer: {\n    position: 'absolute',\n    top: 16,\n    right: 16,\n    zIndex: 10\n  },\n  speedText: {\n    color: '#FFF',\n    fontSize: 16,\n    marginLeft: 12\n  }\n});\nexport default VideoPlayerScreen;","map":{"version":3,"names":["React","useState","useRef","useEffect","StyleSheet","View","Text","TouchableOpacity","TouchableWithoutFeedback","ActivityIndicator","StatusBar","Platform","PanResponder","useWindowDimensions","Video","useNavigation","useRoute","MaterialIcons","Icon","ScreenOrientation","Brightness","Slider","contentApi","analyticsApi","auth","theme","jsx","_jsx","jsxs","_jsxs","VideoPlayerScreen","navigation","route","_ref","params","contentId","episodeId","title","continueWatching","source","_useWindowDimensions","width","height","videoRef","_useState","_useState2","_slicedToArray","isPlaying","setIsPlaying","_useState3","_useState4","duration","setDuration","_useState5","_useState6","currentTime","setCurrentTime","_useState7","_useState8","isBuffering","setIsBuffering","_useState9","_useState0","showControls","setShowControls","_useState1","_useState10","videoUrl","setVideoUrl","_useState11","_useState12","videoTitle","setVideoTitle","_useState13","_useState14","videoError","setVideoError","controlsTimeoutRef","_useState15","_useState16","internalBrightness","setInternalBrightness","_useState17","_useState18","internalVolume","setInternalVolume","_useState19","_useState20","playbackRate","setPlaybackRate","_useState21","_useState22","muted","setMuted","_useState23","_useState24","isLooping","setIsLooping","_useState25","_useState26","showBrightnessOverlay","setShowBrightnessOverlay","_useState27","_useState28","showVolumeOverlay","setShowVolumeOverlay","_useState29","_useState30","isLocked","setIsLocked","overlayTimeoutRef","startBrightnessRef","startVolumeRef","startXRef","startYRef","OVERLAY_HEIGHT","panResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","evt","gestureState","current","x0","y0","onPanResponderMove","dx","dy","Math","abs","clearTimeout","change","newBrightness","max","min","setBrightnessAsync","catch","newVolume","setVolumeAsync","onPanResponderRelease","moveX","moveY","hypot","handleVideoPress","setTimeout","loadVideoDetails","_ref2","_asyncToGenerator","response","getEpisodeDetails","success","_auth$currentUser","data","logEvent","userId","currentUser","uid","secondsWatched","getContentDetails","_auth$currentUser2","error","console","apply","arguments","_auth$currentUser3","lockOrientation","_ref3","lockAsync","OrientationLock","LANDSCAPE","_yield$Brightness$req","requestPermissionsAsync","status","getBrightnessAsync","position","unlockOrientation","_ref5","PORTRAIT","togglePlayPause","_ref6","_auth$currentUser4","prev","handleRewind","_ref7","newTime","setPositionAsync","handleFastForward","_ref8","toggleMute","_ref9","newMuted","setIsMutedAsync","toggleSpeed","_ref0","rates","currentIndex","indexOf","nextIndex","length","newRate","setRateAsync","handleSeek","_ref1","value","_x","handleLoad","_ref10","isLoaded","durationMillis","_x2","handlePlaybackStatusUpdate","positionMillis","didJustFinish","_auth$currentUser5","floor","goBack","handleBack","formatTime","timeInSeconds","minutes","seconds","toggleLoop","_ref11","newLoop","setIsLoopingAsync","handlePictureInPicture","_ref12","presentPictureInPictureAsync","toggleLock","prevLocked","newLocked","style","styles","errorContainer","children","errorText","errorButton","onPress","errorButtonText","loadingContainer","size","color","colors","primary","container","hidden","_objectSpread","videoContainer","panHandlers","ref","uri","video","resizeMode","shouldPlay","rate","isMuted","onPlaybackStatusUpdate","onLoad","onError","_ref13","volume","brightnessOverlay","opacity","pointerEvents","customOverlay","left","top","marginTop","name","verticalSlider","step","minimumValue","maximumValue","onValueChange","onSlidingComplete","finalVal","parseFloat","toFixed","minimumTrackTintColor","maximumTrackTintColor","thumbTintColor","right","bufferingContainer","unlockContainer","controlsContainer","topBar","backButton","numberOfLines","placeholder","centerControls","playPauseButton","extraControls","marginRight","speedText","bottomBar","timeText","progressBar","flex","backgroundColor","padding","borderRadius","alignItems","justifyContent","transform","rotate","absoluteFillObject","flexDirection","fontSize","fontWeight","textAlign","marginHorizontal","marginBottom","paddingHorizontal","paddingVertical","zIndex","marginLeft"],"sources":["E:/bigshow/src/screens/content/VideoPlayerScreen.js"],"sourcesContent":["/* eslint-disable react/jsx-no-duplicate-props */\nimport React, { useState, useRef, useEffect } from 'react';\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  ActivityIndicator,\n  StatusBar,\n  Platform,\n  PanResponder,\n  useWindowDimensions,\n} from 'react-native';\nimport { Video } from 'expo-av';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { MaterialIcons as Icon } from '@expo/vector-icons';\nimport * as ScreenOrientation from 'expo-screen-orientation';\nimport * as Brightness from 'expo-brightness';\nimport Slider from '@react-native-community/slider';\n\n// Import API services\nimport contentApi from '../../api/contentApi';\nimport analyticsApi from '../../api/analyticsApi';\nimport { auth } from '../../lib/firebaseClient';\n\n// Import theme\nimport theme from '../../theme';\n\nconst VideoPlayerScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { contentId, episodeId, title, continueWatching, source } = route.params || {};\n  \n  // use dynamic dimensions for proper overlay positioning\n  const { width, height } = useWindowDimensions();\n  \n  // Video player state\n  const videoRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isBuffering, setIsBuffering] = useState(true);\n  const [showControls, setShowControls] = useState(true);\n  const [videoUrl, setVideoUrl] = useState(null);\n  const [videoTitle, setVideoTitle] = useState(title || '');\n  const [videoError, setVideoError] = useState(null);\n  \n  // Control the visibility of controls with timeout\n  const controlsTimeoutRef = useRef(null);\n  \n  // Brightness and volume adjustment state and refs\n  const [internalBrightness, setInternalBrightness] = useState(1);\n  const [internalVolume, setInternalVolume] = useState(1);\n  const [playbackRate, setPlaybackRate] = useState(1);\n  const [muted, setMuted] = useState(false);\n  const [isLooping, setIsLooping] = useState(false);\n  const [showBrightnessOverlay, setShowBrightnessOverlay] = useState(false);\n  const [showVolumeOverlay, setShowVolumeOverlay] = useState(false);\n  const [isLocked, setIsLocked] = useState(false);\n  const overlayTimeoutRef = useRef(null);\n  const startBrightnessRef = useRef(internalBrightness);\n  const startVolumeRef = useRef(internalVolume);\n  const startXRef = useRef(0);\n  const startYRef = useRef(0);\n  // Overlay height for brightness/volume\n  const OVERLAY_HEIGHT = 200;\n  \n  // Gesture handler for taps (to toggle controls) and vertical swipes (brightness/volume)\n  const panResponder = PanResponder.create({\n    // Only activate gestures when controls are hidden\n    onStartShouldSetPanResponder: () => !showControls,\n    onPanResponderGrant: (evt, gestureState) => {\n      // Record start positions and brightness/volume\n      startXRef.current = gestureState.x0;\n      startYRef.current = gestureState.y0;\n      startBrightnessRef.current = internalBrightness;\n      startVolumeRef.current = internalVolume;\n    },\n    onPanResponderMove: (evt, gestureState) => {\n      const { dx, dy } = gestureState;\n      // Only consider vertical movement beyond small threshold\n      if (Math.abs(dy) < 10 || Math.abs(dy) < Math.abs(dx)) return;\n      // Show overlay for brightness or volume\n      if (startXRef.current < width / 2) {\n        setShowBrightnessOverlay(true);\n        setShowVolumeOverlay(false);\n      } else {\n        setShowVolumeOverlay(true);\n        setShowBrightnessOverlay(false);\n      }\n      if (overlayTimeoutRef.current) clearTimeout(overlayTimeoutRef.current);\n      const change = -dy / height;\n      if (startXRef.current < width / 2) {\n        let newBrightness = startBrightnessRef.current + change;\n        newBrightness = Math.max(0, Math.min(1, newBrightness));\n        setInternalBrightness(newBrightness);\n        Brightness.setBrightnessAsync(newBrightness).catch(() => {});\n      } else {\n        let newVolume = startVolumeRef.current + change;\n        newVolume = Math.max(0, Math.min(1, newVolume));\n        setInternalVolume(newVolume);\n        if (videoRef.current) videoRef.current.setVolumeAsync(newVolume);\n      }\n    },\n    onPanResponderRelease: (evt, gestureState) => {\n      const dx = gestureState.moveX - startXRef.current;\n      const dy = gestureState.moveY - startYRef.current;\n      // Small tap toggles controls\n      if (Math.hypot(dx, dy) < 10) handleVideoPress();\n      // Hide any overlays after delay\n      overlayTimeoutRef.current = setTimeout(() => {\n        setShowBrightnessOverlay(false);\n        setShowVolumeOverlay(false);\n      }, 1000);\n    },\n  });\n  \n  // Load video details\n  useEffect(() => {\n    const loadVideoDetails = async () => {\n      try {\n        let response;\n        \n        // If episode ID is provided, fetch episode details\n        if (episodeId) {\n          response = await contentApi.getEpisodeDetails(contentId, episodeId);\n          if (response.success) {\n            setVideoUrl(response.data.videoUrl);\n            setVideoTitle(response.data.title);\n            analyticsApi.logEvent('video_view', { userId: auth.currentUser?.uid, contentId: contentId, secondsWatched: 0 });\n          }\n        } \n        // Otherwise, fetch content details\n        else {\n          response = await contentApi.getContentDetails(contentId);\n          if (response.success) {\n            setVideoUrl(response.data.videoUrl);\n            setVideoTitle(response.data.title);\n            analyticsApi.logEvent('video_view', { userId: auth.currentUser?.uid, contentId: contentId, secondsWatched: 0 });\n          }\n        }\n        \n        if (!response.success) {\n          setVideoError('Failed to load video. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error loading video:', error);\n        setVideoError('Failed to load video. Please try again.');\n      }\n    };\n    \n    // If a source param is provided, use it directly\n    if (source) {\n      setVideoUrl(source);\n      setVideoTitle(title || '');\n      setIsBuffering(false);\n      analyticsApi.logEvent('video_view', { userId: auth.currentUser?.uid, contentId: contentId, secondsWatched: 0 });\n    } else {\n      loadVideoDetails();\n    }\n    \n    // Lock screen to landscape\n    const lockOrientation = async () => {\n      await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\n    };\n    lockOrientation();\n    \n    // Request brightness permission and set initial brightness\n    (async () => {\n      const { status } = await Brightness.requestPermissionsAsync();\n      if (status === 'granted') {\n        const current = await Brightness.getBrightnessAsync();\n        setInternalBrightness(current);\n        startBrightnessRef.current = current;\n      }\n    })();\n    \n    // Handle continue watching position\n    if (continueWatching && continueWatching.position) {\n      setCurrentTime(continueWatching.position);\n    }\n    \n    // Clean up on unmount\n    return () => {\n      // Return to portrait orientation\n      const unlockOrientation = async () => {\n        await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.PORTRAIT);\n      };\n      unlockOrientation();\n      \n      // Clear any timeouts\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, [contentId, episodeId, continueWatching, source, title]);\n  \n  // Handle press on video to show/hide controls\n  const handleVideoPress = () => {\n    if (isLocked) return;\n    setShowControls(!showControls);\n    \n    // Auto-hide controls after 5 seconds if showing\n    if (!showControls) {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n      \n      controlsTimeoutRef.current = setTimeout(() => {\n        setShowControls(false);\n      }, 5000);\n    }\n  };\n  \n  // Handle play/pause\n  const togglePlayPause = async () => {\n    if (isPlaying) {\n      analyticsApi.logEvent('watch_time', { userId: auth.currentUser?.uid, contentId: contentId, secondsWatched: currentTime });\n    }\n    setIsPlaying(prev => !prev);\n  };\n  \n  // New functions: rewind 10s, fast-forward 10s, mute toggle, speed toggle\n  const handleRewind = async () => {\n    if (videoRef.current) {\n      const newTime = Math.max(0, currentTime - 10);\n      await videoRef.current.setPositionAsync(newTime * 1000);\n      setCurrentTime(newTime);\n    }\n  };\n  const handleFastForward = async () => {\n    if (videoRef.current) {\n      const newTime = Math.min(duration, currentTime + 10);\n      await videoRef.current.setPositionAsync(newTime * 1000);\n      setCurrentTime(newTime);\n    }\n  };\n  const toggleMute = async () => {\n    const newMuted = !muted;\n    setMuted(newMuted);\n    if (videoRef.current) {\n      await videoRef.current.setIsMutedAsync(newMuted);\n    }\n  };\n  const toggleSpeed = async () => {\n    const rates = [0.5, 1, 1.5, 2];\n    const currentIndex = rates.indexOf(playbackRate);\n    const nextIndex = (currentIndex + 1) % rates.length;\n    const newRate = rates[nextIndex];\n    setPlaybackRate(newRate);\n    if (videoRef.current) {\n      await videoRef.current.setRateAsync(newRate, true);\n    }\n  };\n  \n  // Handle seek\n  const handleSeek = async (value) => {\n    if (videoRef.current) {\n      await videoRef.current.setPositionAsync(value * 1000);\n    }\n    setCurrentTime(value);\n  };\n  \n  // Handle video load\n  const handleLoad = async (status) => {\n    if (status.isLoaded) {\n      setDuration(status.durationMillis / 1000);\n      setIsBuffering(false);\n\n      // Resume from continue-watching position\n      if (continueWatching && continueWatching.position) {\n        await videoRef.current.setPositionAsync(continueWatching.position * 1000);\n      }\n    } else if (status.error) {\n      console.error('Video loading error:', status.error);\n      setVideoError(`Failed to load video: ${status.error}`);\n    }\n  };\n  \n  // Handle playback status update\n  const handlePlaybackStatusUpdate = (status) => {\n    if (status.isLoaded) {\n      setIsPlaying(status.isPlaying);\n      setCurrentTime(status.positionMillis / 1000);\n      setIsBuffering(status.isBuffering);\n      \n      // Handle video end\n      if (status.didJustFinish && !status.isLooping) {\n        analyticsApi.logEvent('video_complete', { userId: auth.currentUser?.uid, contentId: contentId, secondsWatched: Math.floor(status.durationMillis / 1000) });\n        setTimeout(() => {\n          navigation.goBack();\n        }, 2000);\n      }\n    }\n  };\n  \n  // Handle back\n  const handleBack = () => {\n    navigation.goBack();\n  };\n  \n  // Format time for display (converts seconds to MM:SS format)\n  const formatTime = (timeInSeconds) => {\n    const minutes = Math.floor(timeInSeconds / 60);\n    const seconds = Math.floor(timeInSeconds % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n  \n  // New functions: loop toggle and Picture-in-Picture\n  const toggleLoop = async () => {\n    const newLoop = !isLooping;\n    setIsLooping(newLoop);\n    if (videoRef.current) {\n      await videoRef.current.setIsLoopingAsync(newLoop);\n    }\n  };\n  const handlePictureInPicture = async () => {\n    if (videoRef.current && videoRef.current.presentPictureInPictureAsync) {\n      await videoRef.current.presentPictureInPictureAsync();\n    }\n  };\n  \n  // Handle screen lock/unlock\n  const toggleLock = () => {\n    setIsLocked(prevLocked => {\n      const newLocked = !prevLocked;\n      setShowControls(!newLocked);\n      return newLocked;\n    });\n  };\n  \n  // Show error state\n  if (videoError) {\n    return (\n      <View style={styles.errorContainer}>\n        <Text style={styles.errorText}>{videoError}</Text>\n        <TouchableOpacity style={styles.errorButton} onPress={handleBack}>\n          <Text style={styles.errorButtonText}>Go Back</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n  \n  // Show loading state if no video URL yet\n  if (!videoUrl) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n  \n  return (\n    <View style={styles.container}>\n      <StatusBar hidden />\n      \n      {/* Video Player */}\n      <View style={styles.videoContainer} {...panResponder.panHandlers}>\n        <Video\n          ref={videoRef}\n          source={{ uri: videoUrl }}\n          style={styles.video}\n          resizeMode=\"contain\"\n          shouldPlay={isPlaying}\n          rate={playbackRate}\n          isMuted={muted}\n          isLooping={isLooping}\n          onPlaybackStatusUpdate={handlePlaybackStatusUpdate}\n          onLoad={handleLoad}\n          onError={({ error }) => setVideoError(`Failed to load video: ${error}`)}\n          volume={internalVolume}\n        />\n        {/* Brightness dim overlay */}\n        <View style={[styles.brightnessOverlay, { opacity: 1 - internalBrightness }]} pointerEvents=\"none\" />\n        {/* Custom brightness and volume indicators */}\n        {showBrightnessOverlay && (\n          <View style={[\n            styles.customOverlay,\n            { left: 20, top: '50%', marginTop: -OVERLAY_HEIGHT/2, height: OVERLAY_HEIGHT, width: 60 }\n          ]}>\n            <Icon name=\"brightness-medium\" size={30} color=\"#FFF\" />\n            <Slider\n              style={styles.verticalSlider}\n              value={internalBrightness}\n              step={0.01}\n              minimumValue={0}\n              maximumValue={1}\n              onValueChange={(value) => {\n                setInternalBrightness(value);\n                Brightness.setBrightnessAsync(value).catch(() => {});\n              }}\n              onSlidingComplete={(value) => {\n                let finalVal = value < 0.02 ? 0 : value > 0.98 ? 1 : parseFloat(value.toFixed(2));\n                setInternalBrightness(finalVal);\n                Brightness.setBrightnessAsync(finalVal).catch(() => {});\n              }}\n              minimumTrackTintColor=\"#FFF\"\n              maximumTrackTintColor=\"rgba(255,255,255,0.3)\"\n              thumbTintColor=\"#FFF\"\n            />\n          </View>\n        )}\n        {showVolumeOverlay && (\n          <View style={[\n            styles.customOverlay,\n            { right: 20, top: '50%', marginTop: -OVERLAY_HEIGHT/2, height: OVERLAY_HEIGHT, width: 60 }\n          ]}>\n            <Icon name={internalVolume === 0 ? 'volume-off' : internalVolume < 0.5 ? 'volume-down' : 'volume-up'} size={30} color=\"#FFF\" />\n            <Slider\n              style={styles.verticalSlider}\n              value={internalVolume}\n              step={0.01}\n              minimumValue={0}\n              maximumValue={1}\n              onValueChange={(value) => {\n                setInternalVolume(value);\n                if (videoRef.current) {\n                  videoRef.current.setVolumeAsync(value);\n                }\n              }}\n              onSlidingComplete={(value) => {\n                let finalVal = value < 0.02 ? 0 : value > 0.98 ? 1 : parseFloat(value.toFixed(2));\n                setInternalVolume(finalVal);\n                if (videoRef.current) {\n                  videoRef.current.setVolumeAsync(finalVal);\n                }\n              }}\n              minimumTrackTintColor=\"#FFF\"\n              maximumTrackTintColor=\"rgba(255,255,255,0.3)\"\n              thumbTintColor=\"#FFF\"\n            />\n          </View>\n        )}\n        {/* Buffering Indicator */}\n        {isBuffering && (\n          <View style={styles.bufferingContainer}>\n            <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          </View>\n        )}\n        {isLocked && (\n          <View style={styles.unlockContainer}>\n            <TouchableOpacity onPress={toggleLock}>\n              <Icon name=\"lock-open\" size={30} color=\"#FFF\" />\n            </TouchableOpacity>\n          </View>\n        )}\n        \n        {/* Video Controls */}\n        {showControls && (\n          <TouchableWithoutFeedback onPress={handleVideoPress}>\n            <View style={styles.controlsContainer}>\n              {/* Top Bar with Title and Back Button */}\n              <View style={styles.topBar}>\n                <TouchableOpacity style={styles.backButton} onPress={handleBack}>\n                  <Icon name=\"arrow-back\" size={24} color=\"#FFF\" />\n                </TouchableOpacity>\n                <Text style={styles.videoTitle} numberOfLines={1}>\n                  {videoTitle}\n                </Text>\n                <View style={styles.placeholder} />\n              </View>\n              \n              {/* Center Controls: rewind, play/pause, fast-forward */}\n              <View style={styles.centerControls}>\n                <TouchableOpacity onPress={handleRewind}>\n                  <Icon name=\"replay-10\" size={36} color=\"#FFF\" />\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.playPauseButton}\n                  onPress={togglePlayPause}\n                >\n                  <Icon\n                    name={isPlaying ? 'pause' : 'play-arrow'}\n                    size={48}\n                    color=\"#FFF\"\n                  />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={handleFastForward}>\n                  <Icon name=\"forward-10\" size={36} color=\"#FFF\" />\n                </TouchableOpacity>\n              </View>\n              \n              {/* Extra Controls: Lock, Mute, Speed, Loop */}\n              <View style={styles.extraControls}>\n                <TouchableOpacity onPress={toggleLock} style={{ marginRight: 12 }}>\n                  <Icon name={isLocked ? 'lock' : 'lock-open'} size={24} color=\"#FFF\" />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={toggleMute} style={{ marginRight: 12 }}>\n                  <Icon name={muted ? 'volume-off' : 'volume-up'} size={24} color=\"#FFF\" />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={toggleSpeed} style={{ marginRight: 12 }}>\n                  <Text style={styles.speedText}>{playbackRate}x</Text>\n                </TouchableOpacity>\n                <TouchableOpacity onPress={toggleLoop}>\n                  <Icon name={isLooping ? 'repeat-one' : 'repeat'} size={24} color=\"#FFF\" />\n                </TouchableOpacity>\n              </View>\n              \n              {/* Bottom Progress Bar */}\n              <View style={styles.bottomBar}>\n                <Text style={styles.timeText}>{formatTime(currentTime)}</Text>\n                <Slider\n                  style={styles.progressBar}\n                  minimumValue={0}\n                  maximumValue={duration}\n                  value={currentTime}\n                  onValueChange={handleSeek}\n                  minimumTrackTintColor={theme.colors.primary}\n                  maximumTrackTintColor=\"rgba(255, 255, 255, 0.3)\"\n                  thumbTintColor={theme.colors.primary}\n                />\n                <Text style={styles.timeText}>{formatTime(duration)}</Text>\n              </View>\n            </View>\n          </TouchableWithoutFeedback>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000',\n  },\n  customOverlay: {\n    position: 'absolute',\n    backgroundColor: 'rgba(0,0,0,0.7)',\n    padding: 8,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 150,\n  },\n  verticalSlider: {\n    width: 200,\n    height: 40,\n    transform: [{ rotate: '-90deg' }],\n  },\n  videoContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  video: {\n    width: '100%',\n    height: '100%',\n  },\n  controlsContainer: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'space-between',\n  },\n  topBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n  },\n  backButton: {\n    padding: 8,\n  },\n  videoTitle: {\n    color: '#FFF',\n    fontSize: 18,\n    fontWeight: 'bold',\n    flex: 1,\n    textAlign: 'center',\n    marginHorizontal: 16,\n  },\n  placeholder: {\n    width: 40,\n  },\n  centerControls: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  playPauseButton: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bottomBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n  },\n  progressBar: {\n    flex: 1,\n    height: 40,\n    marginHorizontal: 8,\n  },\n  timeText: {\n    color: '#FFF',\n    fontSize: 14,\n  },\n  bufferingContainer: {\n    ...StyleSheet.absoluteFillObject,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.3)',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#000',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#000',\n    padding: 20,\n  },\n  errorText: {\n    color: '#FFF',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  errorButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n  },\n  errorButtonText: {\n    color: '#FFF',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  brightnessOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'black',\n  },\n  extraControls: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n  unlockContainer: {\n    position: 'absolute',\n    top: 16,\n    right: 16,\n    zIndex: 10,\n  },\n  speedText: {\n    color: '#FFF',\n    fontSize: 16,\n    marginLeft: 12,\n  },\n});\n\nexport default VideoPlayerScreen; "],"mappings":";;;;;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,wBAAA;AAAA,OAAAC,iBAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,mBAAA;AAa3D,SAASC,KAAK,QAAQ,SAAS;AAC/B,SAASC,aAAa,EAAEC,QAAQ,QAAQ,0BAA0B;AAClE,SAASC,aAAa,IAAIC,IAAI,QAAQ,oBAAoB;AAC1D,OAAO,KAAKC,iBAAiB,MAAM,yBAAyB;AAC5D,OAAO,KAAKC,UAAU,MAAM,iBAAiB;AAC7C,OAAOC,MAAM,MAAM,gCAAgC;AAGnD,OAAOC,UAAU;AACjB,OAAOC,YAAY;AACnB,SAASC,IAAI;AAGb,OAAOC,KAAK;AAAoB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEhC,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EAC9B,IAAMC,UAAU,GAAGhB,aAAa,CAAC,CAAC;EAClC,IAAMiB,KAAK,GAAGhB,QAAQ,CAAC,CAAC;EACxB,IAAAiB,IAAA,GAAkED,KAAK,CAACE,MAAM,IAAI,CAAC,CAAC;IAA5EC,SAAS,GAAAF,IAAA,CAATE,SAAS;IAAEC,SAAS,GAAAH,IAAA,CAATG,SAAS;IAAEC,KAAK,GAAAJ,IAAA,CAALI,KAAK;IAAEC,gBAAgB,GAAAL,IAAA,CAAhBK,gBAAgB;IAAEC,MAAM,GAAAN,IAAA,CAANM,MAAM;EAG7D,IAAAC,oBAAA,GAA0B3B,mBAAmB,CAAC,CAAC;IAAvC4B,KAAK,GAAAD,oBAAA,CAALC,KAAK;IAAEC,MAAM,GAAAF,oBAAA,CAANE,MAAM;EAGrB,IAAMC,QAAQ,GAAGzC,MAAM,CAAC,IAAI,CAAC;EAC7B,IAAA0C,SAAA,GAAkC3C,QAAQ,CAAC,IAAI,CAAC;IAAA4C,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAAgChD,QAAQ,CAAC,CAAC,CAAC;IAAAiD,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAApCE,QAAQ,GAAAD,UAAA;IAAEE,WAAW,GAAAF,UAAA;EAC5B,IAAAG,UAAA,GAAsCpD,QAAQ,CAAC,CAAC,CAAC;IAAAqD,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA1CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAAsCxD,QAAQ,CAAC,IAAI,CAAC;IAAAyD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAA7CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAAwC5D,QAAQ,CAAC,IAAI,CAAC;IAAA6D,UAAA,GAAAhB,cAAA,CAAAe,UAAA;IAA/CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EACpC,IAAAG,UAAA,GAAgChE,QAAQ,CAAC,IAAI,CAAC;IAAAiE,WAAA,GAAApB,cAAA,CAAAmB,UAAA;IAAvCE,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;EAC5B,IAAAG,WAAA,GAAoCpE,QAAQ,CAACoC,KAAK,IAAI,EAAE,CAAC;IAAAiC,WAAA,GAAAxB,cAAA,CAAAuB,WAAA;IAAlDE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAChC,IAAAG,WAAA,GAAoCxE,QAAQ,CAAC,IAAI,CAAC;IAAAyE,WAAA,GAAA5B,cAAA,CAAA2B,WAAA;IAA3CE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAGhC,IAAMG,kBAAkB,GAAG3E,MAAM,CAAC,IAAI,CAAC;EAGvC,IAAA4E,WAAA,GAAoD7E,QAAQ,CAAC,CAAC,CAAC;IAAA8E,WAAA,GAAAjC,cAAA,CAAAgC,WAAA;IAAxDE,kBAAkB,GAAAD,WAAA;IAAEE,qBAAqB,GAAAF,WAAA;EAChD,IAAAG,WAAA,GAA4CjF,QAAQ,CAAC,CAAC,CAAC;IAAAkF,WAAA,GAAArC,cAAA,CAAAoC,WAAA;IAAhDE,cAAc,GAAAD,WAAA;IAAEE,iBAAiB,GAAAF,WAAA;EACxC,IAAAG,WAAA,GAAwCrF,QAAQ,CAAC,CAAC,CAAC;IAAAsF,WAAA,GAAAzC,cAAA,CAAAwC,WAAA;IAA5CE,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACpC,IAAAG,WAAA,GAA0BzF,QAAQ,CAAC,KAAK,CAAC;IAAA0F,WAAA,GAAA7C,cAAA,CAAA4C,WAAA;IAAlCE,KAAK,GAAAD,WAAA;IAAEE,QAAQ,GAAAF,WAAA;EACtB,IAAAG,WAAA,GAAkC7F,QAAQ,CAAC,KAAK,CAAC;IAAA8F,WAAA,GAAAjD,cAAA,CAAAgD,WAAA;IAA1CE,SAAS,GAAAD,WAAA;IAAEE,YAAY,GAAAF,WAAA;EAC9B,IAAAG,WAAA,GAA0DjG,QAAQ,CAAC,KAAK,CAAC;IAAAkG,WAAA,GAAArD,cAAA,CAAAoD,WAAA;IAAlEE,qBAAqB,GAAAD,WAAA;IAAEE,wBAAwB,GAAAF,WAAA;EACtD,IAAAG,WAAA,GAAkDrG,QAAQ,CAAC,KAAK,CAAC;IAAAsG,WAAA,GAAAzD,cAAA,CAAAwD,WAAA;IAA1DE,iBAAiB,GAAAD,WAAA;IAAEE,oBAAoB,GAAAF,WAAA;EAC9C,IAAAG,WAAA,GAAgCzG,QAAQ,CAAC,KAAK,CAAC;IAAA0G,WAAA,GAAA7D,cAAA,CAAA4D,WAAA;IAAxCE,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;EAC5B,IAAMG,iBAAiB,GAAG5G,MAAM,CAAC,IAAI,CAAC;EACtC,IAAM6G,kBAAkB,GAAG7G,MAAM,CAAC8E,kBAAkB,CAAC;EACrD,IAAMgC,cAAc,GAAG9G,MAAM,CAACkF,cAAc,CAAC;EAC7C,IAAM6B,SAAS,GAAG/G,MAAM,CAAC,CAAC,CAAC;EAC3B,IAAMgH,SAAS,GAAGhH,MAAM,CAAC,CAAC,CAAC;EAE3B,IAAMiH,cAAc,GAAG,GAAG;EAG1B,IAAMC,YAAY,GAAGxG,YAAY,CAACyG,MAAM,CAAC;IAEvCC,4BAA4B,EAAE,SAA9BA,4BAA4BA,CAAA;MAAA,OAAQ,CAACvD,YAAY;IAAA;IACjDwD,mBAAmB,EAAE,SAArBA,mBAAmBA,CAAGC,GAAG,EAAEC,YAAY,EAAK;MAE1CR,SAAS,CAACS,OAAO,GAAGD,YAAY,CAACE,EAAE;MACnCT,SAAS,CAACQ,OAAO,GAAGD,YAAY,CAACG,EAAE;MACnCb,kBAAkB,CAACW,OAAO,GAAG1C,kBAAkB;MAC/CgC,cAAc,CAACU,OAAO,GAAGtC,cAAc;IACzC,CAAC;IACDyC,kBAAkB,EAAE,SAApBA,kBAAkBA,CAAGL,GAAG,EAAEC,YAAY,EAAK;MACzC,IAAQK,EAAE,GAASL,YAAY,CAAvBK,EAAE;QAAEC,EAAE,GAAKN,YAAY,CAAnBM,EAAE;MAEd,IAAIC,IAAI,CAACC,GAAG,CAACF,EAAE,CAAC,GAAG,EAAE,IAAIC,IAAI,CAACC,GAAG,CAACF,EAAE,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACH,EAAE,CAAC,EAAE;MAEtD,IAAIb,SAAS,CAACS,OAAO,GAAGjF,KAAK,GAAG,CAAC,EAAE;QACjC4D,wBAAwB,CAAC,IAAI,CAAC;QAC9BI,oBAAoB,CAAC,KAAK,CAAC;MAC7B,CAAC,MAAM;QACLA,oBAAoB,CAAC,IAAI,CAAC;QAC1BJ,wBAAwB,CAAC,KAAK,CAAC;MACjC;MACA,IAAIS,iBAAiB,CAACY,OAAO,EAAEQ,YAAY,CAACpB,iBAAiB,CAACY,OAAO,CAAC;MACtE,IAAMS,MAAM,GAAG,CAACJ,EAAE,GAAGrF,MAAM;MAC3B,IAAIuE,SAAS,CAACS,OAAO,GAAGjF,KAAK,GAAG,CAAC,EAAE;QACjC,IAAI2F,aAAa,GAAGrB,kBAAkB,CAACW,OAAO,GAAGS,MAAM;QACvDC,aAAa,GAAGJ,IAAI,CAACK,GAAG,CAAC,CAAC,EAAEL,IAAI,CAACM,GAAG,CAAC,CAAC,EAAEF,aAAa,CAAC,CAAC;QACvDnD,qBAAqB,CAACmD,aAAa,CAAC;QACpChH,UAAU,CAACmH,kBAAkB,CAACH,aAAa,CAAC,CAACI,KAAK,CAAC,YAAM,CAAC,CAAC,CAAC;MAC9D,CAAC,MAAM;QACL,IAAIC,SAAS,GAAGzB,cAAc,CAACU,OAAO,GAAGS,MAAM;QAC/CM,SAAS,GAAGT,IAAI,CAACK,GAAG,CAAC,CAAC,EAAEL,IAAI,CAACM,GAAG,CAAC,CAAC,EAAEG,SAAS,CAAC,CAAC;QAC/CpD,iBAAiB,CAACoD,SAAS,CAAC;QAC5B,IAAI9F,QAAQ,CAAC+E,OAAO,EAAE/E,QAAQ,CAAC+E,OAAO,CAACgB,cAAc,CAACD,SAAS,CAAC;MAClE;IACF,CAAC;IACDE,qBAAqB,EAAE,SAAvBA,qBAAqBA,CAAGnB,GAAG,EAAEC,YAAY,EAAK;MAC5C,IAAMK,EAAE,GAAGL,YAAY,CAACmB,KAAK,GAAG3B,SAAS,CAACS,OAAO;MACjD,IAAMK,EAAE,GAAGN,YAAY,CAACoB,KAAK,GAAG3B,SAAS,CAACQ,OAAO;MAEjD,IAAIM,IAAI,CAACc,KAAK,CAAChB,EAAE,EAAEC,EAAE,CAAC,GAAG,EAAE,EAAEgB,gBAAgB,CAAC,CAAC;MAE/CjC,iBAAiB,CAACY,OAAO,GAAGsB,UAAU,CAAC,YAAM;QAC3C3C,wBAAwB,CAAC,KAAK,CAAC;QAC/BI,oBAAoB,CAAC,KAAK,CAAC;MAC7B,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC,CAAC;EAGFtG,SAAS,CAAC,YAAM;IACd,IAAM8I,gBAAgB;MAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;QACnC,IAAI;UACF,IAAIC,QAAQ;UAGZ,IAAIhH,SAAS,EAAE;YACbgH,QAAQ,SAAS9H,UAAU,CAAC+H,iBAAiB,CAAClH,SAAS,EAAEC,SAAS,CAAC;YACnE,IAAIgH,QAAQ,CAACE,OAAO,EAAE;cAAA,IAAAC,iBAAA;cACpBnF,WAAW,CAACgF,QAAQ,CAACI,IAAI,CAACrF,QAAQ,CAAC;cACnCK,aAAa,CAAC4E,QAAQ,CAACI,IAAI,CAACnH,KAAK,CAAC;cAClCd,YAAY,CAACkI,QAAQ,CAAC,YAAY,EAAE;gBAAEC,MAAM,GAAAH,iBAAA,GAAE/H,IAAI,CAACmI,WAAW,qBAAhBJ,iBAAA,CAAkBK,GAAG;gBAAEzH,SAAS,EAAEA,SAAS;gBAAE0H,cAAc,EAAE;cAAE,CAAC,CAAC;YACjH;UACF,CAAC,MAEI;YACHT,QAAQ,SAAS9H,UAAU,CAACwI,iBAAiB,CAAC3H,SAAS,CAAC;YACxD,IAAIiH,QAAQ,CAACE,OAAO,EAAE;cAAA,IAAAS,kBAAA;cACpB3F,WAAW,CAACgF,QAAQ,CAACI,IAAI,CAACrF,QAAQ,CAAC;cACnCK,aAAa,CAAC4E,QAAQ,CAACI,IAAI,CAACnH,KAAK,CAAC;cAClCd,YAAY,CAACkI,QAAQ,CAAC,YAAY,EAAE;gBAAEC,MAAM,GAAAK,kBAAA,GAAEvI,IAAI,CAACmI,WAAW,qBAAhBI,kBAAA,CAAkBH,GAAG;gBAAEzH,SAAS,EAAEA,SAAS;gBAAE0H,cAAc,EAAE;cAAE,CAAC,CAAC;YACjH;UACF;UAEA,IAAI,CAACT,QAAQ,CAACE,OAAO,EAAE;YACrB1E,aAAa,CAAC,yCAAyC,CAAC;UAC1D;QACF,CAAC,CAAC,OAAOoF,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;UAC5CpF,aAAa,CAAC,yCAAyC,CAAC;QAC1D;MACF,CAAC;MAAA,gBA9BKqE,gBAAgBA,CAAA;QAAA,OAAAC,KAAA,CAAAgB,KAAA,OAAAC,SAAA;MAAA;IAAA,GA8BrB;IAGD,IAAI5H,MAAM,EAAE;MAAA,IAAA6H,kBAAA;MACVhG,WAAW,CAAC7B,MAAM,CAAC;MACnBiC,aAAa,CAACnC,KAAK,IAAI,EAAE,CAAC;MAC1BuB,cAAc,CAAC,KAAK,CAAC;MACrBrC,YAAY,CAACkI,QAAQ,CAAC,YAAY,EAAE;QAAEC,MAAM,GAAAU,kBAAA,GAAE5I,IAAI,CAACmI,WAAW,qBAAhBS,kBAAA,CAAkBR,GAAG;QAAEzH,SAAS,EAAEA,SAAS;QAAE0H,cAAc,EAAE;MAAE,CAAC,CAAC;IACjH,CAAC,MAAM;MACLZ,gBAAgB,CAAC,CAAC;IACpB;IAGA,IAAMoB,eAAe;MAAA,IAAAC,KAAA,GAAAnB,iBAAA,CAAG,aAAY;QAClC,MAAMhI,iBAAiB,CAACoJ,SAAS,CAACpJ,iBAAiB,CAACqJ,eAAe,CAACC,SAAS,CAAC;MAChF,CAAC;MAAA,gBAFKJ,eAAeA,CAAA;QAAA,OAAAC,KAAA,CAAAJ,KAAA,OAAAC,SAAA;MAAA;IAAA,GAEpB;IACDE,eAAe,CAAC,CAAC;IAGjBlB,iBAAA,CAAC,aAAY;MACX,IAAAuB,qBAAA,SAAyBtJ,UAAU,CAACuJ,uBAAuB,CAAC,CAAC;QAArDC,MAAM,GAAAF,qBAAA,CAANE,MAAM;MACd,IAAIA,MAAM,KAAK,SAAS,EAAE;QACxB,IAAMlD,OAAO,SAAStG,UAAU,CAACyJ,kBAAkB,CAAC,CAAC;QACrD5F,qBAAqB,CAACyC,OAAO,CAAC;QAC9BX,kBAAkB,CAACW,OAAO,GAAGA,OAAO;MACtC;IACF,CAAC,EAAE,CAAC;IAGJ,IAAIpF,gBAAgB,IAAIA,gBAAgB,CAACwI,QAAQ,EAAE;MACjDtH,cAAc,CAAClB,gBAAgB,CAACwI,QAAQ,CAAC;IAC3C;IAGA,OAAO,YAAM;MAEX,IAAMC,iBAAiB;QAAA,IAAAC,KAAA,GAAA7B,iBAAA,CAAG,aAAY;UACpC,MAAMhI,iBAAiB,CAACoJ,SAAS,CAACpJ,iBAAiB,CAACqJ,eAAe,CAACS,QAAQ,CAAC;QAC/E,CAAC;QAAA,gBAFKF,iBAAiBA,CAAA;UAAA,OAAAC,KAAA,CAAAd,KAAA,OAAAC,SAAA;QAAA;MAAA,GAEtB;MACDY,iBAAiB,CAAC,CAAC;MAGnB,IAAIlG,kBAAkB,CAAC6C,OAAO,EAAE;QAC9BQ,YAAY,CAACrD,kBAAkB,CAAC6C,OAAO,CAAC;MAC1C;IACF,CAAC;EACH,CAAC,EAAE,CAACvF,SAAS,EAAEC,SAAS,EAAEE,gBAAgB,EAAEC,MAAM,EAAEF,KAAK,CAAC,CAAC;EAG3D,IAAM0G,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAC7B,IAAInC,QAAQ,EAAE;IACd5C,eAAe,CAAC,CAACD,YAAY,CAAC;IAG9B,IAAI,CAACA,YAAY,EAAE;MACjB,IAAIc,kBAAkB,CAAC6C,OAAO,EAAE;QAC9BQ,YAAY,CAACrD,kBAAkB,CAAC6C,OAAO,CAAC;MAC1C;MAEA7C,kBAAkB,CAAC6C,OAAO,GAAGsB,UAAU,CAAC,YAAM;QAC5ChF,eAAe,CAAC,KAAK,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC;EAGD,IAAMkH,eAAe;IAAA,IAAAC,KAAA,GAAAhC,iBAAA,CAAG,aAAY;MAClC,IAAIpG,SAAS,EAAE;QAAA,IAAAqI,kBAAA;QACb7J,YAAY,CAACkI,QAAQ,CAAC,YAAY,EAAE;UAAEC,MAAM,GAAA0B,kBAAA,GAAE5J,IAAI,CAACmI,WAAW,qBAAhByB,kBAAA,CAAkBxB,GAAG;UAAEzH,SAAS,EAAEA,SAAS;UAAE0H,cAAc,EAAEtG;QAAY,CAAC,CAAC;MAC3H;MACAP,YAAY,CAAC,UAAAqI,IAAI;QAAA,OAAI,CAACA,IAAI;MAAA,EAAC;IAC7B,CAAC;IAAA,gBALKH,eAAeA,CAAA;MAAA,OAAAC,KAAA,CAAAjB,KAAA,OAAAC,SAAA;IAAA;EAAA,GAKpB;EAGD,IAAMmB,YAAY;IAAA,IAAAC,KAAA,GAAApC,iBAAA,CAAG,aAAY;MAC/B,IAAIxG,QAAQ,CAAC+E,OAAO,EAAE;QACpB,IAAM8D,OAAO,GAAGxD,IAAI,CAACK,GAAG,CAAC,CAAC,EAAE9E,WAAW,GAAG,EAAE,CAAC;QAC7C,MAAMZ,QAAQ,CAAC+E,OAAO,CAAC+D,gBAAgB,CAACD,OAAO,GAAG,IAAI,CAAC;QACvDhI,cAAc,CAACgI,OAAO,CAAC;MACzB;IACF,CAAC;IAAA,gBANKF,YAAYA,CAAA;MAAA,OAAAC,KAAA,CAAArB,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMjB;EACD,IAAMuB,iBAAiB;IAAA,IAAAC,KAAA,GAAAxC,iBAAA,CAAG,aAAY;MACpC,IAAIxG,QAAQ,CAAC+E,OAAO,EAAE;QACpB,IAAM8D,OAAO,GAAGxD,IAAI,CAACM,GAAG,CAACnF,QAAQ,EAAEI,WAAW,GAAG,EAAE,CAAC;QACpD,MAAMZ,QAAQ,CAAC+E,OAAO,CAAC+D,gBAAgB,CAACD,OAAO,GAAG,IAAI,CAAC;QACvDhI,cAAc,CAACgI,OAAO,CAAC;MACzB;IACF,CAAC;IAAA,gBANKE,iBAAiBA,CAAA;MAAA,OAAAC,KAAA,CAAAzB,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMtB;EACD,IAAMyB,UAAU;IAAA,IAAAC,KAAA,GAAA1C,iBAAA,CAAG,aAAY;MAC7B,IAAM2C,QAAQ,GAAG,CAAClG,KAAK;MACvBC,QAAQ,CAACiG,QAAQ,CAAC;MAClB,IAAInJ,QAAQ,CAAC+E,OAAO,EAAE;QACpB,MAAM/E,QAAQ,CAAC+E,OAAO,CAACqE,eAAe,CAACD,QAAQ,CAAC;MAClD;IACF,CAAC;IAAA,gBANKF,UAAUA,CAAA;MAAA,OAAAC,KAAA,CAAA3B,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMf;EACD,IAAM6B,WAAW;IAAA,IAAAC,KAAA,GAAA9C,iBAAA,CAAG,aAAY;MAC9B,IAAM+C,KAAK,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;MAC9B,IAAMC,YAAY,GAAGD,KAAK,CAACE,OAAO,CAAC5G,YAAY,CAAC;MAChD,IAAM6G,SAAS,GAAG,CAACF,YAAY,GAAG,CAAC,IAAID,KAAK,CAACI,MAAM;MACnD,IAAMC,OAAO,GAAGL,KAAK,CAACG,SAAS,CAAC;MAChC5G,eAAe,CAAC8G,OAAO,CAAC;MACxB,IAAI5J,QAAQ,CAAC+E,OAAO,EAAE;QACpB,MAAM/E,QAAQ,CAAC+E,OAAO,CAAC8E,YAAY,CAACD,OAAO,EAAE,IAAI,CAAC;MACpD;IACF,CAAC;IAAA,gBATKP,WAAWA,CAAA;MAAA,OAAAC,KAAA,CAAA/B,KAAA,OAAAC,SAAA;IAAA;EAAA,GAShB;EAGD,IAAMsC,UAAU;IAAA,IAAAC,KAAA,GAAAvD,iBAAA,CAAG,WAAOwD,KAAK,EAAK;MAClC,IAAIhK,QAAQ,CAAC+E,OAAO,EAAE;QACpB,MAAM/E,QAAQ,CAAC+E,OAAO,CAAC+D,gBAAgB,CAACkB,KAAK,GAAG,IAAI,CAAC;MACvD;MACAnJ,cAAc,CAACmJ,KAAK,CAAC;IACvB,CAAC;IAAA,gBALKF,UAAUA,CAAAG,EAAA;MAAA,OAAAF,KAAA,CAAAxC,KAAA,OAAAC,SAAA;IAAA;EAAA,GAKf;EAGD,IAAM0C,UAAU;IAAA,IAAAC,MAAA,GAAA3D,iBAAA,CAAG,WAAOyB,MAAM,EAAK;MACnC,IAAIA,MAAM,CAACmC,QAAQ,EAAE;QACnB3J,WAAW,CAACwH,MAAM,CAACoC,cAAc,GAAG,IAAI,CAAC;QACzCpJ,cAAc,CAAC,KAAK,CAAC;QAGrB,IAAItB,gBAAgB,IAAIA,gBAAgB,CAACwI,QAAQ,EAAE;UACjD,MAAMnI,QAAQ,CAAC+E,OAAO,CAAC+D,gBAAgB,CAACnJ,gBAAgB,CAACwI,QAAQ,GAAG,IAAI,CAAC;QAC3E;MACF,CAAC,MAAM,IAAIF,MAAM,CAACZ,KAAK,EAAE;QACvBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEY,MAAM,CAACZ,KAAK,CAAC;QACnDpF,aAAa,CAAC,yBAAyBgG,MAAM,CAACZ,KAAK,EAAE,CAAC;MACxD;IACF,CAAC;IAAA,gBAbK6C,UAAUA,CAAAI,GAAA;MAAA,OAAAH,MAAA,CAAA5C,KAAA,OAAAC,SAAA;IAAA;EAAA,GAaf;EAGD,IAAM+C,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAItC,MAAM,EAAK;IAC7C,IAAIA,MAAM,CAACmC,QAAQ,EAAE;MACnB/J,YAAY,CAAC4H,MAAM,CAAC7H,SAAS,CAAC;MAC9BS,cAAc,CAACoH,MAAM,CAACuC,cAAc,GAAG,IAAI,CAAC;MAC5CvJ,cAAc,CAACgH,MAAM,CAACjH,WAAW,CAAC;MAGlC,IAAIiH,MAAM,CAACwC,aAAa,IAAI,CAACxC,MAAM,CAAC5E,SAAS,EAAE;QAAA,IAAAqH,kBAAA;QAC7C9L,YAAY,CAACkI,QAAQ,CAAC,gBAAgB,EAAE;UAAEC,MAAM,GAAA2D,kBAAA,GAAE7L,IAAI,CAACmI,WAAW,qBAAhB0D,kBAAA,CAAkBzD,GAAG;UAAEzH,SAAS,EAAEA,SAAS;UAAE0H,cAAc,EAAE7B,IAAI,CAACsF,KAAK,CAAC1C,MAAM,CAACoC,cAAc,GAAG,IAAI;QAAE,CAAC,CAAC;QAC1JhE,UAAU,CAAC,YAAM;UACfjH,UAAU,CAACwL,MAAM,CAAC,CAAC;QACrB,CAAC,EAAE,IAAI,CAAC;MACV;IACF;EACF,CAAC;EAGD,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvBzL,UAAU,CAACwL,MAAM,CAAC,CAAC;EACrB,CAAC;EAGD,IAAME,UAAU,GAAG,SAAbA,UAAUA,CAAIC,aAAa,EAAK;IACpC,IAAMC,OAAO,GAAG3F,IAAI,CAACsF,KAAK,CAACI,aAAa,GAAG,EAAE,CAAC;IAC9C,IAAME,OAAO,GAAG5F,IAAI,CAACsF,KAAK,CAACI,aAAa,GAAG,EAAE,CAAC;IAC9C,OAAO,GAAGC,OAAO,IAAIC,OAAO,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAGA,OAAO,EAAE;EAC1D,CAAC;EAGD,IAAMC,UAAU;IAAA,IAAAC,MAAA,GAAA3E,iBAAA,CAAG,aAAY;MAC7B,IAAM4E,OAAO,GAAG,CAAC/H,SAAS;MAC1BC,YAAY,CAAC8H,OAAO,CAAC;MACrB,IAAIpL,QAAQ,CAAC+E,OAAO,EAAE;QACpB,MAAM/E,QAAQ,CAAC+E,OAAO,CAACsG,iBAAiB,CAACD,OAAO,CAAC;MACnD;IACF,CAAC;IAAA,gBANKF,UAAUA,CAAA;MAAA,OAAAC,MAAA,CAAA5D,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMf;EACD,IAAM8D,sBAAsB;IAAA,IAAAC,MAAA,GAAA/E,iBAAA,CAAG,aAAY;MACzC,IAAIxG,QAAQ,CAAC+E,OAAO,IAAI/E,QAAQ,CAAC+E,OAAO,CAACyG,4BAA4B,EAAE;QACrE,MAAMxL,QAAQ,CAAC+E,OAAO,CAACyG,4BAA4B,CAAC,CAAC;MACvD;IACF,CAAC;IAAA,gBAJKF,sBAAsBA,CAAA;MAAA,OAAAC,MAAA,CAAAhE,KAAA,OAAAC,SAAA;IAAA;EAAA,GAI3B;EAGD,IAAMiE,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvBvH,WAAW,CAAC,UAAAwH,UAAU,EAAI;MACxB,IAAMC,SAAS,GAAG,CAACD,UAAU;MAC7BrK,eAAe,CAAC,CAACsK,SAAS,CAAC;MAC3B,OAAOA,SAAS;IAClB,CAAC,CAAC;EACJ,CAAC;EAGD,IAAI3J,UAAU,EAAE;IACd,OACE9C,KAAA,CAACxB,IAAI;MAACkO,KAAK,EAAEC,MAAM,CAACC,cAAe;MAAAC,QAAA,GACjC/M,IAAA,CAACrB,IAAI;QAACiO,KAAK,EAAEC,MAAM,CAACG,SAAU;QAAAD,QAAA,EAAE/J;MAAU,CAAO,CAAC,EAClDhD,IAAA,CAACpB,gBAAgB;QAACgO,KAAK,EAAEC,MAAM,CAACI,WAAY;QAACC,OAAO,EAAErB,UAAW;QAAAkB,QAAA,EAC/D/M,IAAA,CAACrB,IAAI;UAACiO,KAAK,EAAEC,MAAM,CAACM,eAAgB;UAAAJ,QAAA,EAAC;QAAO,CAAM;MAAC,CACnC,CAAC;IAAA,CACf,CAAC;EAEX;EAGA,IAAI,CAACvK,QAAQ,EAAE;IACb,OACExC,IAAA,CAACtB,IAAI;MAACkO,KAAK,EAAEC,MAAM,CAACO,gBAAiB;MAAAL,QAAA,EACnC/M,IAAA,CAAClB,iBAAiB;QAACuO,IAAI,EAAC,OAAO;QAACC,KAAK,EAAExN,KAAK,CAACyN,MAAM,CAACC;MAAQ,CAAE;IAAC,CAC3D,CAAC;EAEX;EAEA,OACEtN,KAAA,CAACxB,IAAI;IAACkO,KAAK,EAAEC,MAAM,CAACY,SAAU;IAAAV,QAAA,GAC5B/M,IAAA,CAACjB,SAAS;MAAC2O,MAAM;IAAA,CAAE,CAAC,EAGpBxN,KAAA,CAACxB,IAAI,EAAAiP,aAAA,CAAAA,aAAA;MAACf,KAAK,EAAEC,MAAM,CAACe;IAAe,GAAKnI,YAAY,CAACoI,WAAW;MAAAd,QAAA,GAC9D/M,IAAA,CAACb,KAAK;QACJ2O,GAAG,EAAE9M,QAAS;QACdJ,MAAM,EAAE;UAAEmN,GAAG,EAAEvL;QAAS,CAAE;QAC1BoK,KAAK,EAAEC,MAAM,CAACmB,KAAM;QACpBC,UAAU,EAAC,SAAS;QACpBC,UAAU,EAAE9M,SAAU;QACtB+M,IAAI,EAAEtK,YAAa;QACnBuK,OAAO,EAAEnK,KAAM;QACfI,SAAS,EAAEA,SAAU;QACrBgK,sBAAsB,EAAE9C,0BAA2B;QACnD+C,MAAM,EAAEpD,UAAW;QACnBqD,OAAO,EAAE,SAATA,OAAOA,CAAAC,MAAA;UAAA,IAAKnG,KAAK,GAAAmG,MAAA,CAALnG,KAAK;UAAA,OAAOpF,aAAa,CAAC,yBAAyBoF,KAAK,EAAE,CAAC;QAAA,CAAC;QACxEoG,MAAM,EAAEhL;MAAe,CACxB,CAAC,EAEFzD,IAAA,CAACtB,IAAI;QAACkO,KAAK,EAAE,CAACC,MAAM,CAAC6B,iBAAiB,EAAE;UAAEC,OAAO,EAAE,CAAC,GAAGtL;QAAmB,CAAC,CAAE;QAACuL,aAAa,EAAC;MAAM,CAAE,CAAC,EAEpGnK,qBAAqB,IACpBvE,KAAA,CAACxB,IAAI;QAACkO,KAAK,EAAE,CACXC,MAAM,CAACgC,aAAa,EACpB;UAAEC,IAAI,EAAE,EAAE;UAAEC,GAAG,EAAE,KAAK;UAAEC,SAAS,EAAE,CAACxJ,cAAc,GAAC,CAAC;UAAEzE,MAAM,EAAEyE,cAAc;UAAE1E,KAAK,EAAE;QAAG,CAAC,CACzF;QAAAiM,QAAA,GACA/M,IAAA,CAACT,IAAI;UAAC0P,IAAI,EAAC,mBAAmB;UAAC5B,IAAI,EAAE,EAAG;UAACC,KAAK,EAAC;QAAM,CAAE,CAAC,EACxDtN,IAAA,CAACN,MAAM;UACLkN,KAAK,EAAEC,MAAM,CAACqC,cAAe;UAC7BlE,KAAK,EAAE3H,kBAAmB;UAC1B8L,IAAI,EAAE,IAAK;UACXC,YAAY,EAAE,CAAE;UAChBC,YAAY,EAAE,CAAE;UAChBC,aAAa,EAAE,SAAfA,aAAaA,CAAGtE,KAAK,EAAK;YACxB1H,qBAAqB,CAAC0H,KAAK,CAAC;YAC5BvL,UAAU,CAACmH,kBAAkB,CAACoE,KAAK,CAAC,CAACnE,KAAK,CAAC,YAAM,CAAC,CAAC,CAAC;UACtD,CAAE;UACF0I,iBAAiB,EAAE,SAAnBA,iBAAiBA,CAAGvE,KAAK,EAAK;YAC5B,IAAIwE,QAAQ,GAAGxE,KAAK,GAAG,IAAI,GAAG,CAAC,GAAGA,KAAK,GAAG,IAAI,GAAG,CAAC,GAAGyE,UAAU,CAACzE,KAAK,CAAC0E,OAAO,CAAC,CAAC,CAAC,CAAC;YACjFpM,qBAAqB,CAACkM,QAAQ,CAAC;YAC/B/P,UAAU,CAACmH,kBAAkB,CAAC4I,QAAQ,CAAC,CAAC3I,KAAK,CAAC,YAAM,CAAC,CAAC,CAAC;UACzD,CAAE;UACF8I,qBAAqB,EAAC,MAAM;UAC5BC,qBAAqB,EAAC,uBAAuB;UAC7CC,cAAc,EAAC;QAAM,CACtB,CAAC;MAAA,CACE,CACP,EACAhL,iBAAiB,IAChB3E,KAAA,CAACxB,IAAI;QAACkO,KAAK,EAAE,CACXC,MAAM,CAACgC,aAAa,EACpB;UAAEiB,KAAK,EAAE,EAAE;UAAEf,GAAG,EAAE,KAAK;UAAEC,SAAS,EAAE,CAACxJ,cAAc,GAAC,CAAC;UAAEzE,MAAM,EAAEyE,cAAc;UAAE1E,KAAK,EAAE;QAAG,CAAC,CAC1F;QAAAiM,QAAA,GACA/M,IAAA,CAACT,IAAI;UAAC0P,IAAI,EAAExL,cAAc,KAAK,CAAC,GAAG,YAAY,GAAGA,cAAc,GAAG,GAAG,GAAG,aAAa,GAAG,WAAY;UAAC4J,IAAI,EAAE,EAAG;UAACC,KAAK,EAAC;QAAM,CAAE,CAAC,EAC/HtN,IAAA,CAACN,MAAM;UACLkN,KAAK,EAAEC,MAAM,CAACqC,cAAe;UAC7BlE,KAAK,EAAEvH,cAAe;UACtB0L,IAAI,EAAE,IAAK;UACXC,YAAY,EAAE,CAAE;UAChBC,YAAY,EAAE,CAAE;UAChBC,aAAa,EAAE,SAAfA,aAAaA,CAAGtE,KAAK,EAAK;YACxBtH,iBAAiB,CAACsH,KAAK,CAAC;YACxB,IAAIhK,QAAQ,CAAC+E,OAAO,EAAE;cACpB/E,QAAQ,CAAC+E,OAAO,CAACgB,cAAc,CAACiE,KAAK,CAAC;YACxC;UACF,CAAE;UACFuE,iBAAiB,EAAE,SAAnBA,iBAAiBA,CAAGvE,KAAK,EAAK;YAC5B,IAAIwE,QAAQ,GAAGxE,KAAK,GAAG,IAAI,GAAG,CAAC,GAAGA,KAAK,GAAG,IAAI,GAAG,CAAC,GAAGyE,UAAU,CAACzE,KAAK,CAAC0E,OAAO,CAAC,CAAC,CAAC,CAAC;YACjFhM,iBAAiB,CAAC8L,QAAQ,CAAC;YAC3B,IAAIxO,QAAQ,CAAC+E,OAAO,EAAE;cACpB/E,QAAQ,CAAC+E,OAAO,CAACgB,cAAc,CAACyI,QAAQ,CAAC;YAC3C;UACF,CAAE;UACFG,qBAAqB,EAAC,MAAM;UAC5BC,qBAAqB,EAAC,uBAAuB;UAC7CC,cAAc,EAAC;QAAM,CACtB,CAAC;MAAA,CACE,CACP,EAEA7N,WAAW,IACVhC,IAAA,CAACtB,IAAI;QAACkO,KAAK,EAAEC,MAAM,CAACkD,kBAAmB;QAAAhD,QAAA,EACrC/M,IAAA,CAAClB,iBAAiB;UAACuO,IAAI,EAAC,OAAO;UAACC,KAAK,EAAExN,KAAK,CAACyN,MAAM,CAACC;QAAQ,CAAE;MAAC,CAC3D,CACP,EACAvI,QAAQ,IACPjF,IAAA,CAACtB,IAAI;QAACkO,KAAK,EAAEC,MAAM,CAACmD,eAAgB;QAAAjD,QAAA,EAClC/M,IAAA,CAACpB,gBAAgB;UAACsO,OAAO,EAAET,UAAW;UAAAM,QAAA,EACpC/M,IAAA,CAACT,IAAI;YAAC0P,IAAI,EAAC,WAAW;YAAC5B,IAAI,EAAE,EAAG;YAACC,KAAK,EAAC;UAAM,CAAE;QAAC,CAChC;MAAC,CACf,CACP,EAGAlL,YAAY,IACXpC,IAAA,CAACnB,wBAAwB;QAACqO,OAAO,EAAE9F,gBAAiB;QAAA2F,QAAA,EAClD7M,KAAA,CAACxB,IAAI;UAACkO,KAAK,EAAEC,MAAM,CAACoD,iBAAkB;UAAAlD,QAAA,GAEpC7M,KAAA,CAACxB,IAAI;YAACkO,KAAK,EAAEC,MAAM,CAACqD,MAAO;YAAAnD,QAAA,GACzB/M,IAAA,CAACpB,gBAAgB;cAACgO,KAAK,EAAEC,MAAM,CAACsD,UAAW;cAACjD,OAAO,EAAErB,UAAW;cAAAkB,QAAA,EAC9D/M,IAAA,CAACT,IAAI;gBAAC0P,IAAI,EAAC,YAAY;gBAAC5B,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAC;cAAM,CAAE;YAAC,CACjC,CAAC,EACnBtN,IAAA,CAACrB,IAAI;cAACiO,KAAK,EAAEC,MAAM,CAACjK,UAAW;cAACwN,aAAa,EAAE,CAAE;cAAArD,QAAA,EAC9CnK;YAAU,CACP,CAAC,EACP5C,IAAA,CAACtB,IAAI;cAACkO,KAAK,EAAEC,MAAM,CAACwD;YAAY,CAAE,CAAC;UAAA,CAC/B,CAAC,EAGPnQ,KAAA,CAACxB,IAAI;YAACkO,KAAK,EAAEC,MAAM,CAACyD,cAAe;YAAAvD,QAAA,GACjC/M,IAAA,CAACpB,gBAAgB;cAACsO,OAAO,EAAEvD,YAAa;cAAAoD,QAAA,EACtC/M,IAAA,CAACT,IAAI;gBAAC0P,IAAI,EAAC,WAAW;gBAAC5B,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAC;cAAM,CAAE;YAAC,CAChC,CAAC,EACnBtN,IAAA,CAACpB,gBAAgB;cACfgO,KAAK,EAAEC,MAAM,CAAC0D,eAAgB;cAC9BrD,OAAO,EAAE3D,eAAgB;cAAAwD,QAAA,EAEzB/M,IAAA,CAACT,IAAI;gBACH0P,IAAI,EAAE7N,SAAS,GAAG,OAAO,GAAG,YAAa;gBACzCiM,IAAI,EAAE,EAAG;gBACTC,KAAK,EAAC;cAAM,CACb;YAAC,CACc,CAAC,EACnBtN,IAAA,CAACpB,gBAAgB;cAACsO,OAAO,EAAEnD,iBAAkB;cAAAgD,QAAA,EAC3C/M,IAAA,CAACT,IAAI;gBAAC0P,IAAI,EAAC,YAAY;gBAAC5B,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAC;cAAM,CAAE;YAAC,CACjC,CAAC;UAAA,CACf,CAAC,EAGPpN,KAAA,CAACxB,IAAI;YAACkO,KAAK,EAAEC,MAAM,CAAC2D,aAAc;YAAAzD,QAAA,GAChC/M,IAAA,CAACpB,gBAAgB;cAACsO,OAAO,EAAET,UAAW;cAACG,KAAK,EAAE;gBAAE6D,WAAW,EAAE;cAAG,CAAE;cAAA1D,QAAA,EAChE/M,IAAA,CAACT,IAAI;gBAAC0P,IAAI,EAAEhK,QAAQ,GAAG,MAAM,GAAG,WAAY;gBAACoI,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAC;cAAM,CAAE;YAAC,CACtD,CAAC,EACnBtN,IAAA,CAACpB,gBAAgB;cAACsO,OAAO,EAAEjD,UAAW;cAAC2C,KAAK,EAAE;gBAAE6D,WAAW,EAAE;cAAG,CAAE;cAAA1D,QAAA,EAChE/M,IAAA,CAACT,IAAI;gBAAC0P,IAAI,EAAEhL,KAAK,GAAG,YAAY,GAAG,WAAY;gBAACoJ,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAC;cAAM,CAAE;YAAC,CACzD,CAAC,EACnBtN,IAAA,CAACpB,gBAAgB;cAACsO,OAAO,EAAE7C,WAAY;cAACuC,KAAK,EAAE;gBAAE6D,WAAW,EAAE;cAAG,CAAE;cAAA1D,QAAA,EACjE7M,KAAA,CAACvB,IAAI;gBAACiO,KAAK,EAAEC,MAAM,CAAC6D,SAAU;gBAAA3D,QAAA,GAAElJ,YAAY,EAAC,GAAC;cAAA,CAAM;YAAC,CACrC,CAAC,EACnB7D,IAAA,CAACpB,gBAAgB;cAACsO,OAAO,EAAEhB,UAAW;cAAAa,QAAA,EACpC/M,IAAA,CAACT,IAAI;gBAAC0P,IAAI,EAAE5K,SAAS,GAAG,YAAY,GAAG,QAAS;gBAACgJ,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAC;cAAM,CAAE;YAAC,CAC1D,CAAC;UAAA,CACf,CAAC,EAGPpN,KAAA,CAACxB,IAAI;YAACkO,KAAK,EAAEC,MAAM,CAAC8D,SAAU;YAAA5D,QAAA,GAC5B/M,IAAA,CAACrB,IAAI;cAACiO,KAAK,EAAEC,MAAM,CAAC+D,QAAS;cAAA7D,QAAA,EAAEjB,UAAU,CAAClK,WAAW;YAAC,CAAO,CAAC,EAC9D5B,IAAA,CAACN,MAAM;cACLkN,KAAK,EAAEC,MAAM,CAACgE,WAAY;cAC1BzB,YAAY,EAAE,CAAE;cAChBC,YAAY,EAAE7N,QAAS;cACvBwJ,KAAK,EAAEpJ,WAAY;cACnB0N,aAAa,EAAExE,UAAW;cAC1B6E,qBAAqB,EAAE7P,KAAK,CAACyN,MAAM,CAACC,OAAQ;cAC5CoC,qBAAqB,EAAC,0BAA0B;cAChDC,cAAc,EAAE/P,KAAK,CAACyN,MAAM,CAACC;YAAQ,CACtC,CAAC,EACFxN,IAAA,CAACrB,IAAI;cAACiO,KAAK,EAAEC,MAAM,CAAC+D,QAAS;cAAA7D,QAAA,EAAEjB,UAAU,CAACtK,QAAQ;YAAC,CAAO,CAAC;UAAA,CACvD,CAAC;QAAA,CACH;MAAC,CACiB,CAC3B;IAAA,EACG,CAAC;EAAA,CACH,CAAC;AAEX,CAAC;AAED,IAAMqL,MAAM,GAAGpO,UAAU,CAACiH,MAAM,CAAC;EAC/B+H,SAAS,EAAE;IACTqD,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE;EACnB,CAAC;EACDlC,aAAa,EAAE;IACb1F,QAAQ,EAAE,UAAU;IACpB4H,eAAe,EAAE,iBAAiB;IAClCC,OAAO,EAAE,CAAC;IACVC,YAAY,EAAE,CAAC;IACfC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBrQ,KAAK,EAAE;EACT,CAAC;EACDoO,cAAc,EAAE;IACdpO,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE,EAAE;IACVqQ,SAAS,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAS,CAAC;EAClC,CAAC;EACDzD,cAAc,EAAE;IACdkD,IAAI,EAAE,CAAC;IACPK,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE;EACd,CAAC;EACDlD,KAAK,EAAE;IACLlN,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE;EACV,CAAC;EACDkP,iBAAiB,EAAAtC,aAAA,CAAAA,aAAA,KACZlP,UAAU,CAAC6S,kBAAkB;IAChCP,eAAe,EAAE,oBAAoB;IACrCI,cAAc,EAAE;EAAe,EAChC;EACDjB,MAAM,EAAE;IACNqB,aAAa,EAAE,KAAK;IACpBL,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,eAAe;IAC/BH,OAAO,EAAE;EACX,CAAC;EACDb,UAAU,EAAE;IACVa,OAAO,EAAE;EACX,CAAC;EACDpO,UAAU,EAAE;IACV0K,KAAK,EAAE,MAAM;IACbkE,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBX,IAAI,EAAE,CAAC;IACPY,SAAS,EAAE,QAAQ;IACnBC,gBAAgB,EAAE;EACpB,CAAC;EACDtB,WAAW,EAAE;IACXvP,KAAK,EAAE;EACT,CAAC;EACDwP,cAAc,EAAE;IACdiB,aAAa,EAAE,KAAK;IACpBJ,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE;EACd,CAAC;EACDX,eAAe,EAAE;IACfzP,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVkQ,YAAY,EAAE,EAAE;IAChBF,eAAe,EAAE,oBAAoB;IACrCI,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE;EACd,CAAC;EACDP,SAAS,EAAE;IACTY,aAAa,EAAE,KAAK;IACpBL,UAAU,EAAE,QAAQ;IACpBF,OAAO,EAAE;EACX,CAAC;EACDH,WAAW,EAAE;IACXC,IAAI,EAAE,CAAC;IACP/P,MAAM,EAAE,EAAE;IACV4Q,gBAAgB,EAAE;EACpB,CAAC;EACDf,QAAQ,EAAE;IACRtD,KAAK,EAAE,MAAM;IACbkE,QAAQ,EAAE;EACZ,CAAC;EACDzB,kBAAkB,EAAApC,aAAA,CAAAA,aAAA,KACblP,UAAU,CAAC6S,kBAAkB;IAChCH,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE,QAAQ;IACpBH,eAAe,EAAE;EAAoB,EACtC;EACD3D,gBAAgB,EAAE;IAChB0D,IAAI,EAAE,CAAC;IACPK,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE,QAAQ;IACpBH,eAAe,EAAE;EACnB,CAAC;EACDjE,cAAc,EAAE;IACdgE,IAAI,EAAE,CAAC;IACPK,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE,QAAQ;IACpBH,eAAe,EAAE,MAAM;IACvBC,OAAO,EAAE;EACX,CAAC;EACDhE,SAAS,EAAE;IACTM,KAAK,EAAE,MAAM;IACbkE,QAAQ,EAAE,EAAE;IACZE,SAAS,EAAE,QAAQ;IACnBE,YAAY,EAAE;EAChB,CAAC;EACD3E,WAAW,EAAE;IACX8D,eAAe,EAAEjR,KAAK,CAACyN,MAAM,CAACC,OAAO;IACrCqE,iBAAiB,EAAE,EAAE;IACrBC,eAAe,EAAE,EAAE;IACnBb,YAAY,EAAE;EAChB,CAAC;EACD9D,eAAe,EAAE;IACfG,KAAK,EAAE,MAAM;IACbkE,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACD/C,iBAAiB,EAAAf,aAAA,CAAAA,aAAA,KACZlP,UAAU,CAAC6S,kBAAkB;IAChCP,eAAe,EAAE;EAAO,EACzB;EACDP,aAAa,EAAE;IACbe,aAAa,EAAE,KAAK;IACpBJ,cAAc,EAAE,UAAU;IAC1BU,iBAAiB,EAAE,EAAE;IACrBC,eAAe,EAAE;EACnB,CAAC;EACD9B,eAAe,EAAE;IACf7G,QAAQ,EAAE,UAAU;IACpB4F,GAAG,EAAE,EAAE;IACPe,KAAK,EAAE,EAAE;IACTiC,MAAM,EAAE;EACV,CAAC;EACDrB,SAAS,EAAE;IACTpD,KAAK,EAAE,MAAM;IACbkE,QAAQ,EAAE,EAAE;IACZQ,UAAU,EAAE;EACd;AACF,CAAC,CAAC;AAEF,eAAe7R,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
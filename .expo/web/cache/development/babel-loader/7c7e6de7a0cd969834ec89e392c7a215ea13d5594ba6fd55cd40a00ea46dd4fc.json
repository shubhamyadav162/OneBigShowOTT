{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { Provider as PaperProvider, DefaultTheme, DarkTheme } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport baseTheme from \"../../theme\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ThemeContext = createContext();\nvar customLightTheme = _objectSpread(_objectSpread({}, DefaultTheme), {}, {\n  colors: _objectSpread(_objectSpread(_objectSpread({}, DefaultTheme.colors), baseTheme.colors), {}, {\n    background: '#f5f7fa',\n    text: '#222',\n    primary: baseTheme.colors.primary,\n    accent: baseTheme.colors.accent\n  })\n});\nvar customDarkTheme = _objectSpread(_objectSpread({}, DarkTheme), {}, {\n  colors: _objectSpread(_objectSpread(_objectSpread({}, DarkTheme.colors), baseTheme.colors), {}, {\n    background: '#181818',\n    text: '#fff',\n    primary: baseTheme.colors.primary,\n    accent: baseTheme.colors.accent\n  })\n});\nexport var ThemeProvider = function ThemeProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDarkMode = _useState2[0],\n    setIsDarkMode = _useState2[1];\n  var _useState3 = useState(customLightTheme),\n    _useState4 = _slicedToArray(_useState3, 2),\n    theme = _useState4[0],\n    setTheme = _useState4[1];\n  useEffect(function () {\n    try {\n      AsyncStorage.getItem('DASHBOARD_THEME').then(function (val) {\n        if (val === 'dark') {\n          setIsDarkMode(true);\n          setTheme(customDarkTheme);\n        }\n      }).catch(function (error) {\n        console.error('Error reading theme from AsyncStorage:', error);\n      });\n    } catch (error) {\n      console.error('AsyncStorage not available:', error);\n      if (typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        setIsDarkMode(true);\n        setTheme(customDarkTheme);\n      }\n    }\n  }, []);\n  var toggleTheme = function toggleTheme() {\n    setIsDarkMode(function (prev) {\n      var next = !prev;\n      setTheme(next ? customDarkTheme : customLightTheme);\n      try {\n        AsyncStorage.setItem('DASHBOARD_THEME', next ? 'dark' : 'light').catch(function (error) {\n          return console.error('Error saving theme preference:', error);\n        });\n      } catch (error) {\n        console.error('AsyncStorage not available:', error);\n      }\n      return next;\n    });\n  };\n  return _jsx(ThemeContext.Provider, {\n    value: {\n      isDarkMode: isDarkMode,\n      toggleTheme: toggleTheme,\n      theme: theme\n    },\n    children: _jsx(PaperProvider, {\n      theme: theme,\n      children: children\n    })\n  });\n};\nexport var useTheme = function useTheme() {\n  return useContext(ThemeContext);\n};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","Provider","PaperProvider","DefaultTheme","DarkTheme","AsyncStorage","baseTheme","jsx","_jsx","ThemeContext","customLightTheme","_objectSpread","colors","background","text","primary","accent","customDarkTheme","ThemeProvider","_ref","children","_useState","_useState2","_slicedToArray","isDarkMode","setIsDarkMode","_useState3","_useState4","theme","setTheme","getItem","then","val","catch","error","console","window","matchMedia","matches","toggleTheme","prev","next","setItem","value","useTheme"],"sources":["E:/bigshow/src/components/common/ThemeProvider.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { Provider as PaperProvider, DefaultTheme, DarkTheme } from 'react-native-paper';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport baseTheme from '../../theme';\r\n\r\nconst ThemeContext = createContext();\r\n\r\nconst customLightTheme = {\r\n  ...DefaultTheme,\r\n  colors: {\r\n    ...DefaultTheme.colors,\r\n    ...baseTheme.colors,\r\n    background: '#f5f7fa',\r\n    text: '#222',\r\n    primary: baseTheme.colors.primary,\r\n    accent: baseTheme.colors.accent,\r\n  },\r\n};\r\n\r\nconst customDarkTheme = {\r\n  ...DarkTheme,\r\n  colors: {\r\n    ...DarkTheme.colors,\r\n    ...baseTheme.colors,\r\n    background: '#181818',\r\n    text: '#fff',\r\n    primary: baseTheme.colors.primary,\r\n    accent: baseTheme.colors.accent,\r\n  },\r\n};\r\n\r\nexport const ThemeProvider = ({ children }) => {\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  const [theme, setTheme] = useState(customLightTheme);\r\n\r\n  useEffect(() => {\r\n    // Add error handling for AsyncStorage\r\n    try {\r\n      AsyncStorage.getItem('DASHBOARD_THEME').then((val) => {\r\n        if (val === 'dark') {\r\n          setIsDarkMode(true);\r\n          setTheme(customDarkTheme);\r\n        }\r\n      }).catch(error => {\r\n        console.error('Error reading theme from AsyncStorage:', error);\r\n      });\r\n    } catch (error) {\r\n      console.error('AsyncStorage not available:', error);\r\n      // Check if system prefers dark mode as fallback (for web)\r\n      if (typeof window !== 'undefined' && \r\n          window.matchMedia && \r\n          window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n        setIsDarkMode(true);\r\n        setTheme(customDarkTheme);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    setIsDarkMode((prev) => {\r\n      const next = !prev;\r\n      setTheme(next ? customDarkTheme : customLightTheme);\r\n      try {\r\n        AsyncStorage.setItem('DASHBOARD_THEME', next ? 'dark' : 'light')\r\n          .catch(error => console.error('Error saving theme preference:', error));\r\n      } catch (error) {\r\n        console.error('AsyncStorage not available:', error);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ isDarkMode, toggleTheme, theme }}>\r\n      <PaperProvider theme={theme}>{children}</PaperProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => useContext(ThemeContext); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}